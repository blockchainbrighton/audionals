<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Helmet Pixel Art Studio - Complete</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="./styles/style.css">


</head>
<body>
  <div class="app-container">
    <!-- Header -->
    <header class="app-header">
      <div>
        <h1 class="app-title">ğŸª– Helmet Pixel Art Studio</h1>
        <p class="app-subtitle">Professional helmet and visor pixel art editor with advanced layer management</p>
      </div>
      <div class="status-indicators">
        <span class="status-indicator active">
          <span>â—</span> Enhanced Mode
        </span>
      </div>
    </header>

    <!-- Main Toolbar -->
    <div class="toolbar">
      <!-- File operations -->
      <div class="toolbar-group">
        <input type="file" id="imageUpload" accept="image/*">
        <button class="btn btn-outline" onclick="document.getElementById('imageUpload').click()">
          ğŸ“ Load Image
        </button>
        <button id="saveProject" class="btn btn-outline">ğŸ’¾ Save Project</button>
        <button id="loadProjectBtn" class="btn btn-outline">ğŸ“‚ Load Project</button>
        <input type="file" id="projectLoader" accept=".hproj,.pxproj,.json">
      </div>

      <!-- Edit operations -->
      <div class="toolbar-group">
        <button id="undoBtn" class="btn btn-outline" title="Undo (Ctrl+Z)">â†¶ Undo</button>
        <button id="redoBtn" class="btn btn-outline" title="Redo (Ctrl+Y)">â†· Redo</button>
        <button id="clearCanvas" class="btn btn-danger">ğŸ—‘ï¸ Clear All</button>
      </div>

      <!-- Mode controls -->
      <div class="toolbar-group">
        <span class="toolbar-label">Mode:</span>
        <button id="latchToggle" class="btn btn-outline">ğŸ”’ Latch: Off</button>
      </div>

      <!-- Layer quick switch -->
      <div class="toolbar-group">
        <span class="toolbar-label">Layer:</span>
        <button id="layerHelmet" class="btn btn-primary" title="Helmet Layer (1)">H</button>
        <button id="layerVisor" class="btn btn-outline" title="Visor Layer (2)">V</button>
        <button id="layerOverlay" class="btn btn-outline" title="Overlay Layer (3)">O</button>
      </div>
    </div>

    <div class="preset-loader" style="margin: 1em 0; display: flex; gap: 0.5em; align-items: center;">
      <button id="presetPrev" class="btn btn-outline">â—€ Prev</button>
      <span id="presetName" style="min-width: 120px; text-align: center;">(Preset Name)</span>
      <button id="presetNext" class="btn btn-outline">Next â–¶</button>
      <button id="presetLoad" class="btn btn-primary">Load</button>
    </div>

    <!-- Main Content Area -->
    <div class="main-content">
      <!-- Left Panel: Visor Controls -->
      <div class="side-panel left">
        <div class="panel-header">
          ğŸ¥½ Visor Controls
        </div>
        <div class="panel-content">
          <div class="control-group">
            <h4>Position</h4>
            <div class="slider-control">
              <label>X:</label>
              <input type="range" id="visorX" min="0" max="50" value="13">
              <span id="visorXValue">13</span>
            </div>
            <div class="slider-control">
              <label>Y:</label>
              <input type="range" id="visorY" min="0" max="50" value="19">
              <span id="visorYValue">19</span>
            </div>
          </div>

          <div class="control-group">
            <h4>Size</h4>
            <div class="slider-control">
              <label>Width:</label>
              <input type="range" id="visorWidth" min="5" max="50" value="38">
              <span id="visorWidthValue">38</span>
            </div>
            <div class="slider-control">
              <label>Height:</label>
              <input type="range" id="visorHeight" min="5" max="30" value="28">
              <span id="visorHeightValue">28</span>
            </div>
          </div>

          <div class="control-group">
            <h4>Shape</h4>
            <select id="visorShape" style="width: 100%; padding: 8px; border-radius: 6px; border: 1px solid var(--gray-300);">
              <option value="rectangular">Rectangular</option>
              <option value="curved">Curved</option>
              <option value="custom">Custom</option>
            </select>
          </div>

          <div class="control-group" id="curvatureGroup" style="display: none;">
            <h4>Curvature</h4>
            <div class="slider-control">
              <label>Curve:</label>
              <input type="range" id="visorCurvature" min="0" max="100" value="0">
              <span id="visorCurvatureValue">0</span>
            </div>
          </div>

          <div class="control-group">
            <button id="toggleVisorOutline" class="btn btn-outline" style="width: 100%;">
              Hide Outline
            </button>
          </div>
                  <!-- Color Palette -->
        <div class="palette-container">
          <div id="userColorsBlock" style="margin: 1em 0;"></div>

          <div id="paletteRow"></div>
        </div>
        </div>
      </div>

      <!-- Center: Canvas Area -->
      <div class="canvas-area">



        <!-- Main Grid -->
        <div id="gridBox">
          <div id="scrollLayer" class="pixel-layer"></div>
          <div id="grid" class="pixel-layer"></div>
          <div id="visorOutline"></div>
        </div>

        <!-- Text Controls -->
        <div style="display: flex; align-items: center; gap: 0.5rem; margin: 1rem 0; flex-wrap: wrap; justify-content: center;">
          <label style="font-weight: 500;">Text Size:</label>
          <button type="button" class="btn btn-outline btn-sm" data-size="2">S</button>
          <button type="button" class="btn btn-outline btn-sm selected" data-size="3">M</button>
          <button type="button" class="btn btn-outline btn-sm" data-size="4">L</button>
          <input type="range" id="textSizeSlider" min="0.15" max="14" step="0.05" value="3" style="width:70px;">
          <span id="textSizeValue" style="width:26px;display:inline-block;text-align:center;font-weight:500;">3</span>
          <input type="text" id="textInput" maxlength="32" placeholder="Type textâ€¦" style="width:120px; padding: 6px; border: 1px solid var(--gray-300); border-radius: 4px;">
          <button id="placeText" class="btn btn-primary btn-sm">Place</button>
          <button id="scrollText" class="btn btn-outline btn-sm">Scroll</button>
          <input type="range" id="scrollSpeed" min="40" max="400" value="120" style="width:60px;" title="Scroll Speed (ms)">

        </div>

        <!-- Array Data Section -->
        <div class="array-section">
          <h3>ğŸ“Š Pixel Array Data</h3>
          <textarea id="arrayDataOutput" readonly placeholder="Array data will appear here..."></textarea>
          <div class="export-buttons">
            <button id="arrayCopyBtn" class="btn btn-outline">ğŸ“‹ Copy Array</button>
            <button id="downloadPNG" class="btn btn-primary">ğŸ–¼ï¸ Export PNG</button>
            <button id="downloadSVG" class="btn btn-outline">ğŸ“„ Export SVG</button>
            <button id="downloadRTF" class="btn btn-outline">ğŸ’¾ Export RTF</button>

          </div>
        </div>
      </div>

      <!-- Right Panel: Layer Management -->
      <div class="side-panel right">
        <div class="panel-header">
          ğŸ¨ Layer Management
        </div>
        <div class="panel-content">
          <div id="layerList">
            <div class="layer-item active" data-layer="helmet">
              <span class="layer-visibility" title="Toggle visibility">ğŸ‘</span>
              <span class="layer-name">Helmet</span>
              <span class="layer-lock" title="Toggle lock">ğŸ”“</span>
            </div>
            <div class="layer-item" data-layer="visor">
              <span class="layer-visibility" title="Toggle visibility">ğŸ‘</span>
              <span class="layer-name">Visor</span>
              <span class="layer-lock" title="Toggle lock">ğŸ”“</span>
            </div>
            <div class="layer-item" data-layer="overlay">
              <span class="layer-visibility" title="Toggle visibility">ğŸ‘</span>
              <span class="layer-name">Overlay</span>
              <span class="layer-lock" title="Toggle lock">ğŸ”“</span>
            </div>
          </div>

          <div style="margin-top: 20px; padding-top: 20px; border-top: 1px solid var(--gray-200);">
            <h4 style="margin: 0 0 12px 0; font-size: 0.9rem; color: var(--gray-600);">Layer Info</h4>
            <div style="font-size: 0.8rem; color: var(--gray-500); line-height: 1.4;">
              <p style="margin: 0 0 8px 0;"><strong>Helmet:</strong> Main helmet design</p>
              <p style="margin: 0 0 8px 0;"><strong>Visor:</strong> Visor area with shape controls</p>
              <p style="margin: 0 0 8px 0;"><strong>Overlay:</strong> Text and effects</p>
              <p style="margin: 0; font-style: italic;">Use 1, 2, 3 keys to switch layers</p>
            </div>
          </div>
          <button id="AddBamBtn" class="btn btn-primary btn-sm">Add BAM</button>
        </div>
      </div>
    </div>
  </div>


 
  <script type="module" src="./js/enhanced-app.js"></script>

  <script type="module" src="./js/pixelEnhanced.js"></script>

  
    
</body>
</html>

