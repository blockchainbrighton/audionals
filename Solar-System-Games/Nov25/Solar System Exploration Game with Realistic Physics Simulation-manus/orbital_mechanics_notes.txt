ORBITAL MECHANICS FORMULAS FOR GAME SIMULATION

1. KEPLER'S LAWS:
   - First Law: Planets move in elliptical orbits with the Sun at one focus
   - Second Law: Equal areas in equal times (conservation of angular momentum)
   - Third Law: T² ∝ a³ (period squared proportional to semi-major axis cubed)

2. ORBITAL POSITION CALCULATION:
   Given time t, calculate position in orbit:
   
   a) Mean Motion: n = 2π / T (where T is orbital period)
   
   b) Mean Anomaly: M = n * t + M₀ (where M₀ is initial mean anomaly)
   
   c) Eccentric Anomaly E (solve Kepler's equation iteratively):
      M = E - e * sin(E)
      Use Newton-Raphson: E_{n+1} = E_n - (E_n - e*sin(E_n) - M) / (1 - e*cos(E_n))
   
   d) True Anomaly ν (angle from periapsis):
      tan(ν/2) = sqrt((1+e)/(1-e)) * tan(E/2)
      Or: cos(ν) = (cos(E) - e) / (1 - e*cos(E))
   
   e) Orbital Radius:
      r = a * (1 - e²) / (1 + e*cos(ν))
      Or: r = a * (1 - e*cos(E))

3. CARTESIAN COORDINATES:
   In orbital plane:
   x = r * cos(ν)
   y = r * sin(ν)
   
   Transform to 3D space using:
   - Longitude of ascending node (Ω)
   - Inclination (i)
   - Argument of periapsis (ω)

4. ORBITAL VELOCITY:
   Vis-viva equation: v² = μ * (2/r - 1/a)
   where μ = G*M (gravitational parameter)

5. GRAVITY ASSIST:
   - Velocity change relative to planet
   - Deflection angle depends on approach distance and velocity
   - Energy gained/lost relative to Sun

6. CONSTANTS:
   - G = 6.674 × 10⁻¹¹ m³/(kg·s²)
   - AU = 1.496 × 10⁸ km
   - Solar mass = 1.989 × 10³⁰ kg
   - μ_sun = G * M_sun = 1.327 × 10²⁰ m³/s²

7. TIME SCALING:
   - Real-time would be too slow
   - Implement time warp: 1x, 10x, 100x, 1000x, 10000x
   - Pause functionality essential
