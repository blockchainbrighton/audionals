const canvas=document.createElement("canvas");function loadScriptsSequentially(e,n=0,t){if(n<e.length){const i=document.createElement("script");i.src=e[n],i.onload=()=>loadScriptsSequentially(e,n+1,t),document.head.appendChild(i)}else"function"==typeof t&&t()}function ensureAudioContextState(){return new Promise((e=>{window.audioCtx&&"suspended"===audioCtx.state?audioCtx.resume().then((()=>{console.log("AudioContext resumed"),e()})):e()}))}function initializeApp(){window.cci2=0,window.initialCCI2=0,resetAllStates(),loadJsonFromUrl(window.jsonDataUrl),initializeWorker()}canvas.id="cv",document.body.appendChild(canvas),document.body.style.cssText="\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    height: 100vh;\n    margin: 0;\n",fetch(window.jsonDataUrl).then((e=>e.json())).then((e=>{window.settings=e,console.log("Settings loaded:",e),loadScriptsSequentially(window.scriptsToLoad,0,(async()=>{await ensureAudioContextState(),"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initializeApp):initializeApp()}))})).catch((e=>console.error("Error loading settings:",e)));