<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mothy G Synth</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">
    <header class="top-bar" role="banner">
      <div class="logo" aria-label="Mothy G logo">
        <span class="moth-wing left"></span>
        <span class="moth-body">Mothy G</span>
        <span class="moth-wing right"></span>
      </div>
      <div class="master-controls" role="group" aria-label="Master Controls">
        <label>
          <span>BPM</span>
          <input type="number" id="bpm" min="40" max="220" value="174" />
        </label>
        <label>
          <span>Swing %</span>
          <input type="range" id="swing" min="0" max="75" value="0" />
        </label>
        <label>
          <span>Volume</span>
          <input type="range" id="master-volume" min="0" max="1" step="0.01" value="0.8" />
        </label>
        <label>
          <span>Limiter Ceiling</span>
          <input type="range" id="ceiling" min="-12" max="0" step="0.5" value="-0.5" />
        </label>
        <div class="key-control-group" role="group" aria-label="Key Selection">
          <span class="key-label">Key</span>
          <div class="key-controls" id="key-controls"></div>
        </div>
        <label>
          <span>Quality</span>
          <select id="quality">
            <option value="1">Normal</option>
            <option value="2">2x Oversample</option>
          </select>
        </label>
        <div class="transport-controls" role="group" aria-label="Transport Controls">
          <button type="button" id="transport-play">Play</button>
          <button type="button" id="transport-rhythm" class="rhythm-toggle">Rhythm: Off</button>
          <button type="button" id="transport-stop">Stop</button>
        </div>
        <button type="button" id="start-audio">Init Audio</button>
      </div>
    </header>
    <main>
      <section class="panel mixer" aria-labelledby="mixer-heading">
        <h2 id="mixer-heading">Mixer</h2>
        <div class="panel-body" id="mixer-panel"></div>
      </section>
      <section class="panel oscillators" aria-labelledby="osc-heading">
        <h2 id="osc-heading">Oscillators</h2>
        <div class="panel-body" id="osc-panel"></div>
      </section>
      <section class="panel filters" aria-labelledby="filter-heading">
        <h2 id="filter-heading">Filters</h2>
        <div class="panel-body" id="filter-panel"></div>
      </section>
      <section class="panel envelopes" aria-labelledby="env-heading">
        <h2 id="env-heading">Envelopes &amp; LFO</h2>
        <div class="panel-body" id="env-panel"></div>
      </section>
      <section class="panel mod-matrix" aria-labelledby="mod-heading">
        <h2 id="mod-heading">Mod Matrix</h2>
        <div class="panel-body" id="mod-panel"></div>
      </section>
      <section class="panel fx" aria-labelledby="fx-heading">
        <h2 id="fx-heading">FX &amp; Dynamics</h2>
        <div class="panel-body" id="fx-panel"></div>
      </section>
      <section class="panel sequencer" aria-labelledby="seq-heading">
        <h2 id="seq-heading">Sequencer</h2>
        <div class="panel-body" id="seq-panel"></div>
      </section>
      <section class="panel preset" aria-labelledby="preset-heading">
        <h2 id="preset-heading">Preset &amp; Seed</h2>
        <div class="panel-body" id="preset-panel"></div>
      </section>
      <section class="panel meters" aria-labelledby="meter-heading">
        <h2 id="meter-heading">Meters &amp; Scope</h2>
        <div class="panel-body meters-body">
          <canvas id="oscilloscope" width="300" height="120" aria-label="Oscilloscope"></canvas>
          <canvas id="spectrum" width="300" height="120" aria-label="Spectrum"></canvas>
          <div class="level-meter" role="meter" aria-valuemin="-60" aria-valuemax="0" aria-label="Output level">
            <div class="meter-bar" id="master-meter"></div>
          </div>
        </div>
      </section>
    </main>
  </div>
  <template id="lane-step-template">
    <div class="step" tabindex="0">
      <span class="step-index"></span>
      <label><span>Note</span><input type="text" class="step-note" placeholder="C2" /></label>
      <label><span>Vel</span><input type="number" class="step-velocity" min="0" max="1" step="0.01" value="0.8" /></label>
      <label><span>Tie</span><input type="checkbox" class="step-tie" /></label>
      <label><span>Slide</span><input type="checkbox" class="step-slide" /></label>
      <label><span>Ratchet</span><input type="number" class="step-ratchet" min="1" max="4" value="1" /></label>
      <label><span>Prob</span><input type="number" class="step-prob" min="0" max="1" step="0.05" value="1" /></label>
    </div>
  </template>
  <script src="mothy-g.js" type="module"></script>
</body>
</html>
