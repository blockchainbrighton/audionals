:root{
  --bg:#0b0d10;
  --fg:#e7f0ff;
  --muted:#9bb0cc;
  --accent:#47e2a1;
  --accent2:#ff9c5a;
  --card:#141821;
  --btn:#1b2330;
  --pad:#1b2636;
  --padActive:#2e3e57;
  --danger:#ff5b6e;
  --good:#47e2a1;
  --ring:0 0 0 2px rgba(71,226,161,.45),0 0 32px rgba(71,226,161,.25) inset;
  --radius:18px;
  --gap:12px;
  --shadow:0 8px 24px rgba(0,0,0,.35);
  --shadow-in:inset 0 1px 0 rgba(255,255,255,.05), inset 0 -4px 12px rgba(0,0,0,.35);
  font-synthesis-weight:none;
}

*{box-sizing:border-box}
html,body{height:100%}
body.app__root{
  margin:0; color:var(--fg); background:radial-gradient(1200px 600px at 20% -20%, #13202a 0%, #0b0d10 60%);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Inter,Arial,sans-serif;
  display:flex; flex-direction:column; gap:var(--gap);
}

.app__transport{
  display:grid; grid-template-columns:auto auto 140px auto auto auto 1fr auto; gap:var(--gap);
  align-items:center; padding:10px;
  background:linear-gradient(180deg, #0f1520, #0b0f17); border-bottom:1px solid #202a3a;
  position:sticky; top:0; z-index:2;
}
.readout{color:var(--muted); font-size:.9rem; margin-left:6px}

.ctrl__group{display:flex; align-items:center; gap:8px; background:var(--card); padding:8px 10px; border-radius:12px; box-shadow:var(--shadow-in)}
.ctrl__group > span{color:var(--muted); font-size:.9rem}
.ctrl__group input[type="number"]{width:70px; background:#0c1118; color:var(--fg); border:1px solid #263142; border-radius:10px; padding:6px 8px}
.ctrl__group input[type="range"]{width:160px}

.btn__primary, .btn__ghost, .btn__mini{
  cursor:pointer; border:none; color:var(--fg); border-radius:12px; padding:10px 14px; background:var(--btn);
  box-shadow:var(--shadow-in); transition:transform .08s ease, box-shadow .2s ease, background .2s ease;
}
.btn__primary{background:linear-gradient(180deg,#203042,#1a2534); box-shadow:var(--shadow)}
.btn__primary:active, .btn__ghost:active, .btn__mini:active{transform:translateY(1px)}
.btn__ghost{opacity:.9}
.btn__mini{padding:6px 10px; font-size:.9rem; opacity:.85}

.meter__wrap{display:flex; align-items:center; gap:8px; margin-left:auto}
.meter__lbl{display:flex; align-items:center; gap:6px; color:var(--muted); font-size:.9rem}
#meter{background:#0a0e14; border-radius:8px; box-shadow:var(--shadow-in)}

.app__main{display:flex; flex-direction:column; gap:var(--gap); padding:0 12px 24px}

.presets__row{display:flex; align-items:center; gap:var(--gap)}
.preset__picker select{min-width:260px; background:#0c1118; color:var(--fg); border:1px solid #263142; border-radius:10px; padding:8px}
.tag__pill{background:#203040; color:#a7ffde; padding:6px 10px; border-radius:999px; font-size:.85rem; opacity:.9}

.pads__grid{
  display:grid; grid-template-columns:repeat(8,1fr); gap:10px; padding:10px; background:var(--card); border-radius:var(--radius);
  box-shadow:var(--shadow); user-select:none;
}
.pad__cell{
  height:60px; background:var(--pad); color:var(--fg); font-weight:700; border-radius:14px; border:1px solid #2a394f;
  box-shadow:var(--shadow-in); font-size:1.1rem;
}
.pad__cell.active{background:var(--padActive); box-shadow:var(--ring)}

.knobs__row{
  display:grid; grid-template-columns:repeat(6, minmax(160px, 1fr)); gap:12px;
}
.knob__group{
  display:flex; flex-direction:column; gap:8px; background:var(--card); border-radius:var(--radius); padding:12px; box-shadow:var(--shadow);
}
.knob__group label, .knob__group .btn__mini{align-self:flex-start; color:var(--muted)}
.knob__group input[type="range"]{width:100%}

.actions__row{display:flex; gap:10px; align-items:center}
.state__io{display:flex; gap:8px; align-items:center; margin-left:auto}
.state__field{width:360px; max-width:60vw; background:#0c1118; color:var(--fg); border:1px solid #263142; border-radius:10px; padding:6px 8px}

.app__footer{opacity:.7; text-align:center; padding:8px 12px; font-size:.9rem}

@media (max-width: 900px){
  .app__transport{grid-template-columns:auto auto 120px auto auto auto 1fr}
  .knobs__row{grid-template-columns:repeat(2,1fr)}
  .pads__grid{grid-template-columns:repeat(4,1fr)}
  #meter{display:none}
}
