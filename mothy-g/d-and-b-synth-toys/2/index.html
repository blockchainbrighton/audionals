<!-- index.html -->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>DnB Live Toys</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <header>
      <h1>DnB Live Toys</h1>
      <div id="global-controls" class="row">
        <button id="startAudio">Start Audio</button>
        <label>BPM <input id="bpm" type="range" min="60" max="190" value="174" /></label>
        <span id="bpmVal">174</span>
        <label>Swing <input id="swing" type="range" min="0" max="0.5" step="0.01" value="0.08" /></label>
        <span id="swingVal">0.08</span>
        <button id="tapTempo">Tap</button>
        <label><input type="checkbox" id="midiClockIn"/> MIDI Clock In</label>
        <button id="recordBtn">● REC</button>
        <button id="stopRecBtn" disabled>■ Stop</button>
        <button id="playbackBtn" disabled>▶︎ Play</button>
        <button id="saveBtn" disabled>Save</button>
        <label class="file-label">Load <input id="loadFile" type="file" accept="application/json"/></label>
      </div>
    </header>

    <nav id="tabs" class="row">
      <button data-tab="breakbot" class="active">1) BreakBot</button>
      <button data-tab="reese">2) Reese Roller</button>
      <button data-tab="stab">3) Jungle Stab</button>
      <button data-tab="riser">4) Riser FX</button>
      <button data-tab="shuffler">5) Hat Shuffler</button>
    </nav>

    <main>
      <section id="breakbot" class="tab active">
        <h2>BreakBot — 3-voice drum pads + 16-step</h2>
        <div class="grid pads" id="drumPads"></div>
        <div class="seq" id="drumSeq"></div>
        <div class="row controls">
          <label>Kick Tune <input id="kickTune" type="range" min="20" max="80" value="50"/></label>
          <label>Snare Tone <input id="snTone" type="range" min="0" max="1" step="0.01" value="0.5"/></label>
          <label>Hat Metal <input id="hatHarm" type="range" min="0" max="100" value="40"/></label>
          <label>Filter Cut <input id="drumLPF" type="range" min="100" max="10000" value="8000"/></label>
          <label>Drive <input id="drumDrive" type="range" min="0" max="1" step="0.01" value="0.2"/></label>
        </div>
      </section>

      <section id="reese" class="tab">
        <h2>Reese Roller — detuned dual-osc mono</h2>
        <div class="row controls">
          <label>Detune <input id="reeseDetune" type="range" min="0" max="50" value="16"/></label>
          <label>Filter <input id="reeseCut" type="range" min="100" max="10000" value="500"/></label>
          <label>Res <input id="reeseQ" type="range" min="0.1" max="20" step="0.1" value="8"/></label>
          <label>LFO→Filter <input id="reeseLfoAmt" type="range" min="0" max="1" step="0.01" value="0.6"/></label>
          <label>LFO Rate <input id="reeseLfoRate" type="range" min="0.1" max="16" step="0.1" value="3"/></label>
          <label>Dist <input id="reeseDist" type="range" min="0" max="1" step="0.01" value="0.3"/></label>
          <button id="reeseHold">Hold</button>
        </div>
        <div class="kb" id="reeseKeys"></div>
      </section>

      <section id="stab" class="tab">
        <h2>Jungle Stab — chord stab with echo</h2>
        <div class="row controls">
          <label>Chord
            <select id="stabChord">
              <option value="0">Minor</option>
              <option value="1">Major</option>
              <option value="2">Sus2</option>
              <option value="3">Sus4</option>
              <option value="4">Minor 7</option>
              <option value="5">Major 7</option>
            </select>
          </label>
          <label>Decay <input id="stabDecay" type="range" min="0.05" max="2" step="0.01" value="0.2"/></label>
          <label>Filter <input id="stabCut" type="range" min="200" max="12000" value="2000"/></label>
          <label>Echo <input id="stabEcho" type="range" min="0" max="1" step="0.01" value="0.25"/></label>
          <label>Reverb <input id="stabVerb" type="range" min="0" max="1" step="0.01" value="0.2"/></label>
        </div>
        <div class="kb" id="stabKeys"></div>
      </section>

      <section id="riser" class="tab">
        <h2>Riser FX — pitch & filter sweep</h2>
        <div class="row controls">
          <label>Length (beats) <input id="riserLen" type="range" min="1" max="32" value="8"/></label>
          <label>Start Hz <input id="riserStart" type="range" min="40" max="400" value="80"/></label>
          <label>End Hz <input id="riserEnd" type="range" min="80" max="4000" value="1600"/></label>
          <label>Noise <input id="riserNoise" type="range" min="0" max="1" step="0.01" value="0.3"/></label>
          <label>LPF End <input id="riserLPF" type="range" min="500" max="15000" value="12000"/></label>
          <button id="triggerRiser">Trigger</button>
        </div>
      </section>

      <section id="shuffler" class="tab">
        <h2>Hat Shuffler — euclidean hats & ghosts</h2>
        <div class="row controls">
          <label>Steps <input id="eucSteps" type="range" min="4" max="32" value="16"/></label>
          <label>Beats <input id="eucBeats" type="range" min="1" max="16" value="11"/></label>
          <label>Rotate <input id="eucRot" type="range" min="0" max="31" value="0"/></label>
          <label>Ghost % <input id="ghost" type="range" min="0" max="1" step="0.01" value="0.35"/></label>
          <label>Open % <input id="openPct" type="range" min="0" max="1" step="0.01" value="0.18"/></label>
          <label>HPF <input id="hatHPF" type="range" min="1000" max="12000" value="6000"/></label>
        </div>
        <div id="eucVis" class="row"></div>
      </section>
    </main>

    <footer>
      <small>Only Tone.js for instruments; WebAudio for timekeeping. Optional MIDI clock-in supported.</small>
    </footer>

    <script type="module" src="script.js"></script>
  </body>
</html>



