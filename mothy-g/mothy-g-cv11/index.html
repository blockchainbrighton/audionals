<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Mothy G Synth</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <div id="app">
    <header class="top-bar" role="banner">
      <div class="logo" aria-label="Mothy G logo">
        <span class="moth-wing left"></span>
        <span class="moth-body">Mothy G</span>
        <span class="moth-wing right"></span>
      </div>
      <div class="master-controls" role="group" aria-label="Master Controls">
        <label>
          <span>BPM</span>
          <input type="number" id="bpm" min="40" max="220" value="140" />
        </label>
        <label>
          <span>Swing %</span>
          <input type="range" id="swing" min="0" max="75" value="0" />
        </label>
        <label>
          <span>Volume</span>
          <input type="range" id="master-volume" min="0" max="1" step="0.01" value="0.8" />
        </label>
        <label>
          <span>Limiter Ceiling</span>
          <input type="range" id="ceiling" min="-12" max="0" step="0.5" value="-0.5" />
        </label>
        <div class="preset-toolbar" id="preset-selector-bar" role="group" aria-label="Factory Preset Selector"></div>
        <div class="key-control-group" role="group" aria-label="Key Selection">
          <span class="key-label">Key</span>
          <div class="key-controls" id="key-controls"></div>
        </div>
        <label>
          <span>Quality</span>
          <select id="quality">
            <option value="1">Normal</option>
            <option value="2">2x Oversample</option>
          </select>
        </label>
        <div class="master-section master-lfo-section" role="group" aria-label="Master LFO">
          <span class="section-title">Master LFO</span>
          <label class="toggle">
            <span>Enabled</span>
            <input type="checkbox" id="master-lfo-enabled" />
          </label>
          <label>
            <span>Tempo</span>
            <input type="range" id="master-lfo-tempo" min="40" max="240" step="1" />
          </label>
          <div class="master-lfo-multipliers" role="group" aria-label="LFO tempo multipliers">
            <button type="button" data-lfo-multiplier="0.25">1/4×</button>
            <button type="button" data-lfo-multiplier="0.5">1/2×</button>
            <button type="button" data-lfo-multiplier="1">1×</button>
            <button type="button" data-lfo-multiplier="2">2×</button>
            <button type="button" data-lfo-multiplier="4">4×</button>
          </div>
          <label>
            <span>Depth</span>
            <input type="range" id="master-lfo-depth" min="0" max="0.5" step="0.01" />
          </label>
          <span class="master-lfo-readout" id="master-lfo-readout">--</span>
        </div>
        <div class="master-section master-fx-section" role="group" aria-label="Master Filters and Delay">
          <span class="section-title">Master Shaping</span>
          <label>
            <span>HPF Hz</span>
            <input type="range" id="master-hpf" min="20" max="2000" step="1" />
          </label>
          <label>
            <span>LPF Hz</span>
            <input type="range" id="master-lpf" min="200" max="20000" step="10" />
          </label>
          <label>
            <span>Delay Mix</span>
            <input type="range" id="master-delay-mix" min="0" max="1" step="0.01" />
          </label>
        </div>
        <label class="toggle">
          <span>Tips</span>
          <input type="checkbox" id="toggle-tooltips" checked />
        </label>
        <div class="transport-controls" role="group" aria-label="Transport Controls">
          <button type="button" id="transport-play">Play</button>
          <button type="button" id="transport-rhythm" class="rhythm-toggle">Rhythm: Off</button>
          <button type="button" id="transport-stop">Stop</button>
        </div>
        <button type="button" id="start-audio">Init Audio</button>
      </div>
    </header>
    <main>
      <section class="panel mixer" aria-labelledby="mixer-heading">
        <h2 id="mixer-heading">Mixer</h2>
        <div class="panel-body" id="mixer-panel"></div>
      </section>
      <section class="panel oscillators" aria-labelledby="osc-heading">
        <h2 id="osc-heading">Oscillators</h2>
        <div class="panel-body" id="osc-panel"></div>
      </section>
      <section class="panel filters" aria-labelledby="filter-heading">
        <h2 id="filter-heading">Filters</h2>
        <div class="panel-body" id="filter-panel"></div>
      </section>
      <section class="panel envelopes" aria-labelledby="env-heading">
        <h2 id="env-heading">Envelopes &amp; LFO</h2>
        <div class="panel-body" id="env-panel"></div>
      </section>
      <section class="panel mod-matrix" aria-labelledby="mod-heading">
        <h2 id="mod-heading">Mod Matrix</h2>
        <div class="panel-body" id="mod-panel"></div>
      </section>
      <section class="panel fx" aria-labelledby="fx-heading">
        <h2 id="fx-heading">FX &amp; Dynamics</h2>
        <div class="panel-body" id="fx-panel"></div>
      </section>
      <section class="panel preset" aria-labelledby="preset-heading">
        <h2 id="preset-heading">Preset &amp; Seed</h2>
        <div class="panel-body" id="preset-panel"></div>
      </section>
      <section class="panel meters" aria-labelledby="meter-heading">
        <h2 id="meter-heading">Meters &amp; Scope</h2>
        <div class="panel-body meters-body">
          <canvas id="oscilloscope" width="300" height="120" aria-label="Oscilloscope"></canvas>
          <canvas id="spectrum" width="300" height="120" aria-label="Spectrum"></canvas>
          <div class="level-meter" role="meter" aria-valuemin="-60" aria-valuemax="0" aria-label="Output level">
            <div class="meter-bar" id="master-meter"></div>
          </div>
        </div>
      </section>
    </main>
  </div>
  <script src="mothy-g.js" type="module"></script>
</body>
</html>
