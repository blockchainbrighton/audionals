// layout.js — consolidated module (controls column, layout builder, reference display)

import { _isInputFocused, createElement } from "/content/8e485ab53465925b8a2cf7269ee5a691e0b17e13573c7e500d15b99204776936i0"; // Utility functions

const DEFAULT_VOLUME=1,DEFAULT_TEMPO=78,DEFAULT_PITCH=1,DEFAULT_MULTIPLIER=1,MAX_VOLUME=1.5,MAX_TEMPO=400,MAX_PITCH=10,MIN_PITCH=.01,MAX_MULTIPLIER=8,referenceContentHTML="\n    <h2>Keyboard Shortcuts</h2>\n\n    <h3>Volume &amp; Mute</h3>\n    <ul>\n        <li><code>Arrow Up</code>: Increase Volume</li>\n        <li><code>Arrow Down</code>: Decrease Volume</li>\n        <li><code>M</code>: Toggle Mute/Unmute</li>\n    </ul>\n\n    <h3>Tempo (BPM)</h3>\n    <ul>\n        <li><code>Shift + = / +</code>: Increase Tempo (+1 BPM)</li>\n        <li><code>Shift + - / _</code>: Decrease Tempo (‑1 BPM)</li>\n        <li><code>Ctrl + Shift + = / +</code>: Increase Tempo (+10 BPM)</li>\n        <li><code>Ctrl + Shift + - / _</code>: Decrease Tempo (‑10 BPM)</li>\n    </ul>\n\n    <h3>Pitch / Playback Rate</h3>\n    <ul>\n        <li><code>Shift + ] / }</code>: Increase Pitch slightly</li>\n        <li><code>Shift + [ / {</code>: Decrease Pitch slightly</li>\n        <li><code>Ctrl + Shift + ] / }</code>: Increase Pitch significantly</li>\n        <li><code>Ctrl + Shift + [ / {</code>: Decrease Pitch significantly</li>\n        <li><code>=</code> (equals key): Double Current Pitch (x2)</li>\n        <li><code>-</code> (minus key): Halve Current Pitch (x0.5)</li>\n        <li><code>0</code> (zero key): Reset Pitch to 1.0×</li>\n    </ul>\n    <p><em>(<code>Ctrl</code> can be <code>Cmd</code> on macOS for Tempo/Pitch shortcuts)</em></p>\n\n    <h3>Playback</h3>\n    <ul>\n        <li><code>Spacebar</code>: Play sample once</li>\n        <li><code>Click Image</code>: Toggle Loop</li>\n        <li><code>R</code>: Toggle Reverse Playback</li>\n    </ul>\n";function createControlGroup(e,t,l,n,o,i,a,r="",c=(e=>String(e))){const d=t.replace("-slider","-value"),s="range"===l?c(a):a;return createElement("div",{className:"control-group"},[createElement("label",{for:t,textContent:e}),createElement("input",{type:l,id:t,min:n,max:o,step:i,value:a,disabled:!0}),createElement("span",{className:"value-display"},[createElement("span",{id:d,textContent:s}),r])])}export function createControlsColumn(){const e=createElement("div",{className:"controls-column hidden"},[createElement("div",{className:"title-bar"},[createElement("h1",{textContent:"OB1 - Audional Art"}),createElement("button",{id:"info-toggle-btn",title:"Show/Hide Keyboard Shortcuts",textContent:"ℹ️"})]),createElement("div",{className:"metadata-placeholder"}),createElement("div",{id:"controls-container",className:"controls disabled"},[createElement("div",{id:"error-message",className:"error"}),createElement("div",{className:"button-group"},[createElement("button",{id:"play-once-btn",disabled:!0,textContent:"Play Once"}),createElement("button",{id:"loop-toggle-btn",disabled:!0,textContent:"Play Loop: Off"}),createElement("button",{id:"reverse-toggle-btn",disabled:!0,textContent:"Reverse: Off"})]),createControlGroup("Volume:","volume-slider","range","0.0",String(MAX_VOLUME),"0.01",String(DEFAULT_VOLUME),"%",(e=>Math.round(100*parseFloat(e)))),createControlGroup("Tempo:","tempo-slider","range","1",String(MAX_TEMPO),"1",String(DEFAULT_TEMPO)," BPM"),createControlGroup("Pitch:","pitch-slider","range",String(MIN_PITCH),String(MAX_PITCH),"0.01",String(DEFAULT_PITCH),"%",(e=>Math.round(100*parseFloat(e)))),createControlGroup("Multiplier:","multiplier-slider","range","1",String(MAX_MULTIPLIER),"1",String(DEFAULT_MULTIPLIER),"",(e=>`x${e}`)),createElement("div",{className:"midi-controls control-group"},[createElement("label",{for:"midi-device-select",textContent:"MIDI In:"}),createElement("select",{id:"midi-device-select",disabled:!0},[createElement("option",{value:"",textContent:"Loading MIDI..."})]),createElement("span",{id:"midi-status",className:"value-display",textContent:"Unavailable"})])])]),t=e.querySelector("#multiplier-slider");return t&&(t.style.accentColor="#d08770"),e}export function initReferencePanel(e){e?e.dataset.initialized||(e.innerHTML=referenceContentHTML,e.dataset.initialized="true"):console.error("initReferencePanel: panel element missing.")}export function buildLayout(e){if(!e)throw console.error("buildLayout: target element is null/undefined."),new Error("buildLayout requires a valid DOM element.");const t=e.querySelector(".audio-metadata");t&&t.remove();const l=createControlsColumn(),n=createElement("div",{className:"image-area"},[createElement("img",{id:"main-image",src:"#",alt:"Audional Art OB1 Visual",title:"Click to toggle tempo loop"})]),o=createElement("div",{className:"reference-column hidden"},[createElement("div",{id:"reference-panel",className:"reference-panel"})]),i=createElement("div",{className:"main-layout"},[l,n,o]);if(t){const e=l.querySelector(".metadata-placeholder");(e||l).parentNode.replaceChild(t,e)}e.appendChild(i),console.log("Layout built successfully.")}export default{createControlsColumn:createControlsColumn,initReferencePanel:initReferencePanel,buildLayout:buildLayout};