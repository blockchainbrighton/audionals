<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>Secure Ledger-Based STX Stacking: A Complete Guide</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,600;0,700;1,400;1,600&amp;family=Inter:wght@300;400;500;600;700&amp;display=swap" rel="stylesheet"/>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
    <script src="https://cdn.jsdelivr.net/npm/mermaid@10.6.1/dist/mermaid.min.js"></script>
    <style>
        :root {
            --primary: #1e3a8a;
            --secondary: #0f766e;
            --accent: #f59e0b;
            --neutral: #374151;
            --base-100: #ffffff;
            --base-200: #f8fafc;
            --base-300: #e2e8f0;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.65;
            color: var(--neutral);
            overflow-x: hidden;
        }
        
        .serif {
            font-family: 'Playfair Display', serif;
        }
        
        .hero-gradient {
            background: linear-gradient(135deg, #1e3a8a 0%, #0f766e 100%);
        }
        
        .text-shadow {
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .glass-effect {
            backdrop-filter: blur(10px);
            background: rgba(255, 255, 255, 0.9);
        }
        
        .toc-fixed {
            position: fixed;
            top: 0;
            left: 0;
            height: 100vh;
            width: 280px;
            background: var(--base-100);
            border-right: 1px solid var(--base-300);
            z-index: 1000;
            overflow-y: auto;
            padding: 2rem 1.5rem;
        }
        
        .main-content {
            margin-left: 280px;
            min-height: 100vh;
        }
        
        .citation {
            color: var(--primary);
            text-decoration: none;
            font-weight: 500;
            border-bottom: 1px dotted var(--primary);
            transition: all 0.3s ease;
        }
        
        .citation:hover {
            background: var(--primary);
            color: white;
            padding: 2px 4px;
            border-radius: 3px;
        }
        
        .highlight-box {
            background: linear-gradient(135deg, #f0f9ff 0%, #e0f2fe 100%);
            border-left: 4px solid var(--primary);
        }
        
        .step-card {
            background: var(--base-100);
            border: 1px solid var(--base-300);
            transition: all 0.3s ease;
            position: relative;
        }
        
        .step-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
        }
        
        .step-number {
            background: var(--primary);
            color: white;
            width: 32px;
            height: 32px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 14px;
        }
        
        /* Mermaid diagram styling */
        .mermaid-container {
            display: flex;
            justify-content: center;
            min-height: 300px;
            max-height: 800px;
            background: #ffffff;
            border: 2px solid #e5e7eb;
            border-radius: 12px;
            padding: 30px;
            margin: 30px 0;
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.08);
            position: relative;
            overflow: hidden;
        }

        .mermaid-container .mermaid {
            width: 100%;
            max-width: 100%;
            height: 100%;
            cursor: grab;
            transition: transform 0.3s ease;
            transform-origin: center center;
            display: flex;
            justify-content: center;
            align-items: center;
            touch-action: none; /* 防止触摸设备上的默认行为 */
            -webkit-user-select: none; /* 防止文本选择 */
            -moz-user-select: none;
            -ms-user-select: none;
            user-select: none;
        }

        .mermaid-container .mermaid svg {
            max-width: 100%;
            height: 100%;
            display: block;
            margin: 0 auto;
        }

        .mermaid-container .mermaid:active {
            cursor: grabbing;
        }

        .mermaid-container.zoomed .mermaid {
            height: 100%;
            width: 100%;
            cursor: grab;
        }

        .mermaid-controls {
            position: absolute;
            top: 15px;
            right: 15px;
            display: flex;
            gap: 10px;
            z-index: 20;
            background: rgba(255, 255, 255, 0.95);
            padding: 8px;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }

        .mermaid-control-btn {
            background: #ffffff;
            border: 1px solid #d1d5db;
            border-radius: 6px;
            padding: 10px;
            cursor: pointer;
            transition: all 0.2s ease;
            color: #374151;
            font-size: 14px;
            min-width: 36px;
            height: 36px;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .mermaid-control-btn:hover {
            background: #f8fafc;
            border-color: #3b82f6;
            color: #3b82f6;
            transform: translateY(-1px);
        }

        .mermaid-control-btn:active {
            transform: scale(0.95);
        }

@media (max-width: 1024px) {
    .toc-fixed {
        display: none;
    }
    .main-content {
        margin-left: 0;
    }
    .mermaid-control-btn:not(.reset-zoom) {
        display: none;
    }
    .mermaid-controls {
        top: auto;
        bottom: 15px;
        right: 15px;
    }
}

@media (max-width: 640px) {
    .mermaid-container {
        padding: 15px;
        margin: 15px 0;
    }
}

@media (max-width: 768px) {
    .hero-gradient h1 {
        font-size: 2.5rem;
        overflow-wrap: break-word;
    }
    .hero-gradient p.text-xl {
        font-size: 1rem;
        overflow-wrap: break-word;
    }
    .hero-gradient .relative.px-8 {
        padding-left: 1rem;
        padding-right: 1rem;
    }
    .hero-gradient .relative.z-10.w-full {
        padding-left: 1rem;
        padding-right: 1rem;
    }
}
    </style>
  </head>

  <body class="bg-gray-50">
    <!-- Fixed Table of Contents -->
    <nav class="toc-fixed">
      <div class="mb-8">
        <h3 class="serif text-lg font-semibold text-gray-900 mb-4">Table of Contents</h3>
        <ul class="space-y-2 text-sm">
          <li>
            <a href="#hero" class="text-gray-600 hover:text-blue-600 transition-colors">Introduction</a>
          </li>
          <li>
            <a href="#current-situation" class="text-gray-600 hover:text-blue-600 transition-colors">Current Holdings</a>
          </li>
          <li>
            <a href="#understanding-stacking" class="text-gray-600 hover:text-blue-600 transition-colors">Understanding STX Stacking</a>
          </li>
          <li>
            <a href="#xverse-solution" class="text-gray-600 hover:text-blue-600 transition-colors">Xverse Solution</a>
          </li>
          <li>
            <a href="#step-by-step" class="text-gray-600 hover:text-blue-600 transition-colors">Step-by-Step Guide</a>
          </li>
          <li>
            <a href="#benefits" class="text-gray-600 hover:text-blue-600 transition-colors">Benefits</a>
          </li>
          <li>
            <a href="#considerations" class="text-gray-600 hover:text-blue-600 transition-colors">Best Practices</a>
          </li>
        </ul>
      </div>

      <div class="mt-8 p-4 bg-blue-50 rounded-lg">
        <h4 class="font-semibold text-blue-900 mb-2">Key Benefits</h4>
        <ul class="text-xs text-blue-700 space-y-1">
          <li>• Maintain self-custody</li>
          <li>• Earn ~10% APY in Bitcoin</li>
          <li>• Enhanced security</li>
          <li>• Full control over assets</li>
        </ul>
      </div>
    </nav>

    <!-- Main Content -->
    <main class="main-content">
      <!-- Hero Section -->
      <section id="hero" class="hero-gradient min-h-screen relative overflow-hidden">
        <div class="absolute inset-0 opacity-20">
          <img src="https://kimi-web-img.moonshot.cn/img/static.vecteezy.com/e48f7ef3758e7993848afdaebd288bbf20c7c9a7.jpg" alt="Digital representation of cryptocurrency security" class="w-full h-full object-cover" size="wallpaper" aspect="wide" color="blue" query="cryptocurrency security concept" referrerpolicy="no-referrer" data-modified="1" data-score="11596.00"/>
        </div>

        <div class="relative z-10 h-full flex items-center">
          <div class="container mx-auto px-8">
            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 items-center">
              <!-- Hero Content -->
              <div class="text-white">
                <h1 class="serif text-5xl lg:text-7xl font-bold mb-6 text-shadow leading-tight">
                  <span class="italic">Secure</span>
                  <br/>
                  Ledger-Based
                  <br/>
                  <span class="text-yellow-300">STX Stacking</span>
                </h1>
                <p class="text-xl mb-8 text-blue-100 max-w-lg">
                  Maintain self-custody while earning Bitcoin rewards through Xverse&#39;s non-custodial stacking solution.
                </p>
                <div class="flex items-center space-x-4">
                  <div class="bg-white bg-opacity-20 px-4 py-2 rounded-lg">
                    <span class="text-sm font-medium">~10% APY</span>
                  </div>
                  <div class="bg-white bg-opacity-20 px-4 py-2 rounded-lg">
                    <span class="text-sm font-medium">Non-Custodial</span>
                  </div>
                </div>
              </div>

              <!-- Key Highlights Grid -->
              <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                <div class="glass-effect p-6 rounded-xl">
                  <div class="flex items-center mb-3">
                    <i class="fas fa-shield-alt text-blue-600 text-2xl mr-3"></i>
                    <h3 class="font-semibold text-gray-900">Cold Storage Security</h3>
                  </div>
                  <p class="text-sm text-gray-600">Private keys never leave your Ledger device</p>
                </div>

                <div class="glass-effect p-6 rounded-xl">
                  <div class="flex items-center mb-3">
                    <i class="fas fa-coins text-yellow-500 text-2xl mr-3"></i>
                    <h3 class="font-semibold text-gray-900">Bitcoin Rewards</h3>
                  </div>
                  <p class="text-sm text-gray-600">Earn ~10% APY paid in BTC</p>
                </div>

                <div class="glass-effect p-6 rounded-xl">
                  <div class="flex items-center mb-3">
                    <i class="fas fa-user-lock text-green-600 text-2xl mr-3"></i>
                    <h3 class="font-semibold text-gray-900">Self-Custody</h3>
                  </div>
                  <p class="text-sm text-gray-600">Full control over your STX tokens</p>
                </div>

                <div class="glass-effect p-6 rounded-xl">
                  <div class="flex items-center mb-3">
                    <i class="fas fa-link text-purple-600 text-2xl mr-3"></i>
                    <h3 class="font-semibold text-gray-900">Ledger Integration</h3>
                  </div>
                  <p class="text-sm text-gray-600">Direct hardware wallet connection</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Current Situation -->
      <section id="current-situation" class="py-20 bg-white">
        <div class="container mx-auto px-8">
          <div class="max-w-4xl mx-auto">
            <h2 class="serif text-4xl font-bold text-gray-900 mb-12 text-center">
              Current Holdings &amp; Stacking Situation
            </h2>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12">
              <div class="bg-gray-50 p-8 rounded-xl border border-gray-200">
                <div class="flex items-center mb-4">
                  <i class="fab fa-bitcoin text-orange-500 text-3xl mr-4"></i>
                  <div>
                    <h3 class="font-semibold text-gray-900">Bitcoin (BTC)</h3>
                  </div>
                </div>
                <p class="text-sm text-gray-600">Secured on Ledger hardware wallet</p>
              </div>

              <div class="bg-gray-50 p-8 rounded-xl border border-gray-200">
                <div class="flex items-center mb-4">
                  <i class="fab fa-ethereum text-blue-500 text-3xl mr-4"></i>
                  <div>
                    <h3 class="font-semibold text-gray-900">Ethereum (ETH)</h3>
                  </div>
                </div>
                <p class="text-sm text-gray-600">Secured on Ledger hardware wallet</p>
              </div>

              <div class="bg-gray-50 p-8 rounded-xl border border-gray-200">
                <div class="flex items-center mb-4">
                  <i class="fas fa-layer-group text-purple-500 text-3xl mr-4"></i>
                  <div>
                    <h3 class="font-semibold text-gray-900">Stacks (STX)</h3>
                    <p class="text-2xl font-bold text-purple-600"></p>
                  </div>
                </div>
                <p class="text-sm text-gray-600">Currently in web-wallet with StackingDAO</p>
              </div>
            </div>

            <div class="highlight-box p-8 rounded-xl mb-8">
              <h3 class="serif text-2xl font-semibold mb-4">Current Stacking Arrangement</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <h4 class="font-semibold text-gray-900 mb-2">StackingDAO Service</h4>
                  <p class="text-gray-700 mb-4">Your STX tokens are currently stacked with StackingDAO, earning approximately <strong>10% annual interest paid in Bitcoin</strong>.</p>
                  <p class="text-gray-600 text-sm">This service operates within the Stacks ecosystem, allowing users to delegate their STX for stacking while maintaining relative ease of use.</p>
                </div>
                <div>
                  <h4 class="font-semibold text-gray-900 mb-2">Security Preference</h4>
                  <p class="text-gray-700 mb-4">You prefer to <strong>stack STX tokens directly from your Ledger hardware wallet</strong> to maintain self-custody and cold storage security.</p>
                  <p class="text-gray-600 text-sm">This would align your STX security with how you manage your BTC and ETH holdings.</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Understanding STX Stacking -->
      <section id="understanding-stacking" class="py-20 bg-gray-50">
        <div class="container mx-auto px-8">
          <div class="max-w-4xl mx-auto">
            <h2 class="serif text-4xl font-bold text-gray-900 mb-12 text-center">
              Understanding STX Stacking &amp; Hardware Wallet Compatibility
            </h2>

            <div class="bg-white p-8 rounded-xl shadow-sm mb-8">
              <h3 class="serif text-2xl font-semibold mb-6">Proof-of-Transfer (PoX) Explained</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                <div>
                  <h4 class="font-semibold text-gray-900 mb-3">What is STX Stacking?</h4>
                  <p class="text-gray-700 mb-4">Stacks (STX) stacking is a process integral to the Stacks blockchain&#39;s consensus mechanism, known as <strong>Proof-of-Transfer (PoX)</strong>. STX holders temporarily lock up their tokens to support network operations and security.</p>
                  <p class="text-gray-600 text-sm">In return, stackers are rewarded with Bitcoin (BTC), leveraging Bitcoin&#39;s security while enabling smart contracts on the Stacks layer.</p>
                </div>
                <div>
                  <h4 class="font-semibold text-gray-900 mb-3">Stacking Cycles</h4>
                  <p class="text-gray-700 mb-4">Stacking occurs in cycles lasting approximately <strong>two weeks</strong> (equivalent to 2000 Bitcoin blocks). During each cycle, your STX tokens are locked and cannot be transferred.</p>
                  <p class="text-gray-600 text-sm">Rewards are distributed at the end of each cycle to the specified Bitcoin address. <a href="https://www.xverse.app/blog/what-is-stacks-cryptocurrency" class="citation" target="_blank">Learn more about stacking cycles</a>.</p>
                </div>
              </div>
            </div>

            <div class="bg-yellow-50 border border-yellow-200 p-6 rounded-xl">
              <h3 class="font-semibold text-yellow-800 mb-3">StackingDAO Limitations</h3>
              <p class="text-yellow-700 mb-4">While StackingDAO provides a convenient stacking service, it primarily interacts with web wallets like Hiro or Xverse for transaction signing. The service does not natively support direct interaction with Ledger hardware wallets for the stacking process itself.</p>
              <p class="text-yellow-700 text-sm">This means your STX, once delegated through StackingDAO&#39;s dApp, is effectively under the control of StackingDAO&#39;s smart contracts rather than remaining solely within your direct hardware wallet control. <a href="https://www.stackingdao.com/" class="citation" target="_blank">Review StackingDAO services</a>.</p>
            </div>
          </div>
        </div>
      </section>

      <!-- Xverse Solution -->
      <section id="xverse-solution" class="py-20 bg-white">
        <div class="container mx-auto px-8">
          <div class="max-w-4xl mx-auto">
            <h2 class="serif text-4xl font-bold text-gray-900 mb-12 text-center">
              Xverse Wallet: The Secure Ledger Integration Solution
            </h2>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12">
              <div>
                <h3 class="serif text-2xl font-semibold mb-6">What is Xverse?</h3>
                <p class="text-gray-700 mb-4">Xverse is a prominent <strong>non-custodial wallet</strong> designed specifically for the Stacks ecosystem and broader Bitcoin Web3 functionalities. <a href="https://www.xverse.app/blog/stacks-wallets" class="citation" target="_blank">Discover Xverse features</a>.</p>

                <div class="space-y-4">
                  <div class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                    <div>
                      <h4 class="font-semibold text-gray-900">Multi-Platform Support</h4>
                      <p class="text-gray-600 text-sm">Available as browser extension and mobile app for iOS/Android</p>
                    </div>
                  </div>
                  <div class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                    <div>
                      <h4 class="font-semibold text-gray-900">Comprehensive Asset Support</h4>
                      <p class="text-gray-600 text-sm">STX, BTC, Ordinals, Runes, BRC-20 tokens, and Stacks NFTs</p>
                    </div>
                  </div>
                  <div class="flex items-start">
                    <i class="fas fa-check-circle text-green-500 mt-1 mr-3"></i>
                    <div>
                      <h4 class="font-semibold text-gray-900">Built-in Stacking</h4>
                      <p class="text-gray-600 text-sm">Direct STX stacking interface within the wallet</p>
                    </div>
                  </div>
                </div>
              </div>

              <div class="bg-blue-50 p-6 rounded-xl">
                <img src="https://kimi-web-img.moonshot.cn/img/www.starknet.io/99782d8402686a91437563e8ddf9ed7f42f373d6.webp" alt="Ledger hardware wallet connected to Xverse application interface" class="w-full rounded-lg mb-4" size="medium" aspect="wide" style="photo" query="Ledger hardware wallet connected to Xverse wallet interface" referrerpolicy="no-referrer" data-modified="1" data-score="11495.00"/>
                <h4 class="font-semibold text-blue-900 mb-2">Ledger Integration</h4>
                <p class="text-blue-800 text-sm">Xverse provides robust integration with Ledger hardware wallets, allowing you to manage STX assets while leveraging cold storage security.</p>
              </div>
            </div>

            <div class="highlight-box p-8 rounded-xl">
              <h3 class="serif text-2xl font-semibold mb-6">How Xverse Enables Ledger-Based STX Stacking</h3>

              <div class="space-y-6">
                <div class="flex items-start">
                  <div class="step-number mr-4">1</div>
                  <div>
                    <h4 class="font-semibold text-gray-900 mb-2">Non-Custodial Security</h4>
                    <p class="text-gray-700">Xverse connects to your Ledger device while ensuring <strong>private keys never leave the hardware wallet</strong>. All transactions require physical confirmation on your Ledger device. <a href="https://www.xverse.app/blog/ledger-stacks" class="citation" target="_blank">Learn about Ledger integration</a>.</p>
                  </div>
                </div>

                <div class="flex items-start">
                  <div class="step-number mr-4">2</div>
                  <div>
                    <h4 class="font-semibold text-gray-900 mb-2">Xverse Pool Integration</h4>
                    <p class="text-gray-700">Connect your Ledger-secured STX account to <code class="bg-gray-100 px-2 py-1 rounded">pool.xverse.app</code> to delegate your STX for stacking while maintaining self-custody. The Xverse Pool aggregates STX to meet minimum thresholds for participation.</p>
                  </div>
                </div>

                <div class="flex items-start">
                  <div class="step-number mr-4">3</div>
                  <div>
                    <h4 class="font-semibold text-gray-900 mb-2">BTC Reward Collection</h4>
                    <p class="text-gray-700">Specify your Ledger Bitcoin address to receive stacking rewards. The ~10% APY in Bitcoin will be distributed to this address at the end of each stacking cycle.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Step-by-Step Guide -->
      <section id="step-by-step" class="py-20 bg-gray-50">
        <div class="container mx-auto px-8">
          <div class="max-w-5xl mx-auto">
            <h2 class="serif text-4xl font-bold text-gray-900 mb-12 text-center">
              Step-by-Step: Connecting Ledger to Xverse for STX Stacking
            </h2>

            <!-- Prerequisites -->
            <div class="mb-12">
              <h3 class="serif text-2xl font-semibold mb-6">Prerequisites</h3>
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                <div class="step-card p-6 rounded-xl">
                  <div class="flex items-center mb-4">
                    <i class="fas fa-usb text-blue-600 text-2xl mr-3"></i>
                    <h4 class="font-semibold text-gray-900">Ledger Device</h4>
                  </div>
                  <p class="text-gray-700 text-sm">Ledger Nano S, Nano X, or Stax with latest firmware installed</p>
                </div>

                <div class="step-card p-6 rounded-xl">
                  <div class="flex items-center mb-4">
                    <i class="fas fa-microchip text-purple-600 text-2xl mr-3"></i>
                    <h4 class="font-semibold text-gray-900">Stacks App</h4>
                  </div>
                  <p class="text-gray-700 text-sm">Install &#34;Stacks&#34; application via Ledger Live manager</p>
                </div>

                <div class="step-card p-6 rounded-xl">
                  <div class="flex items-center mb-4">
                    <i class="fas fa-puzzle-piece text-green-600 text-2xl mr-3"></i>
                    <h4 class="font-semibold text-gray-900">Xverse Extension</h4>
                  </div>
                  <p class="text-gray-700 text-sm">Download Xverse browser extension from official sources</p>
                </div>
              </div>
            </div>

            <!-- Main Steps -->
            <div class="space-y-8">
              <div class="step-card p-8 rounded-xl">
                <div class="flex items-center mb-6">
                  <div class="step-number bg-blue-600 text-white mr-4">1</div>
                  <h3 class="serif text-xl font-semibold text-gray-900">Connect Ledger to Xverse</h3>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                  <div>
                    <ol class="space-y-4 text-gray-700">
                      <li class="flex items-start">
                        <span class="bg-blue-100 text-blue-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-semibold mr-3 mt-0.5">1</span>
                        Open Xverse extension and select &#34;Connect Hardware Wallet&#34;
                      </li>
                      <li class="flex items-start">
                        <span class="bg-blue-100 text-blue-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-semibold mr-3 mt-0.5">2</span>
                        Connect your Ledger device via USB and unlock it
                      </li>
                      <li class="flex items-start">
                        <span class="bg-blue-100 text-blue-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-semibold mr-3 mt-0.5">3</span>
                        Open the &#34;Stacks&#34; application on your Ledger device
                      </li>
                      <li class="flex items-start">
                        <span class="bg-blue-100 text-blue-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-semibold mr-3 mt-0.5">4</span>
                        Verify and approve address display on your Ledger screen
                      </li>
                    </ol>
                  </div>
                  <div class="bg-blue-50 p-6 rounded-lg">
                    <h4 class="font-semibold text-blue-900 mb-3">Security Note</h4>
                    <p class="text-blue-800 text-sm">During this process, <strong>private keys never leave your Ledger device</strong>. Xverse acts as an interface, and all transaction signing occurs on the hardware wallet.</p>
                  </div>
                </div>
                <p class="text-gray-600 text-sm mt-4">
                  <a href="https://support.xverse.app/hc/en-us/articles/17819233917965-How-to-Connect-Your-Ledger-Device-to-Xverse" class="citation" target="_blank">Detailed connection guide</a>
                </p>
              </div>

              <div class="step-card p-8 rounded-xl">
                <div class="flex items-center mb-6">
                  <div class="step-number bg-purple-600 text-white mr-4">2</div>
                  <h3 class="serif text-xl font-semibold text-gray-900">Access Xverse Stacking Pool</h3>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                  <div>
                    <ol class="space-y-4 text-gray-700">
                      <li class="flex items-start">
                        <span class="bg-purple-100 text-purple-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-semibold mr-3 mt-0.5">1</span>
                        Navigate to
                        <code class="bg-gray-100 px-2 py-1 rounded">pool.xverse.app</code>
                      </li>
                      <li class="flex items-start">
                        <span class="bg-purple-100 text-purple-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-semibold mr-3 mt-0.5">2</span>
                        Connect your Xverse wallet (now linked to Ledger)
                      </li>
                      <li class="flex items-start">
                        <span class="bg-purple-100 text-purple-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-semibold mr-3 mt-0.5">3</span>
                        Select your Ledger-secured STX account
                      </li>
                      <li class="flex items-start">
                        <span class="bg-purple-100 text-purple-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-semibold mr-3 mt-0.5">4</span>
                        Choose the amount of STX to stack
                      </li>
                    </ol>
                  </div>
                  <div class="bg-purple-50 p-6 rounded-lg">
                    <h4 class="font-semibold text-purple-900 mb-3">Pool Advantages</h4>
                    <p class="text-purple-800 text-sm">Xverse Pool has a low minimum requirement of <strong>100 STX</strong>, making it accessible.</p>
                  </div>
                </div>
              </div>

              <div class="step-card p-8 rounded-xl">
                <div class="flex items-center mb-6">
                  <div class="step-number bg-green-600 text-white mr-4">3</div>
                  <h3 class="serif text-xl font-semibold text-gray-900">Configure and Confirm Stacking</h3>
                </div>

                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                  <div>
                    <ol class="space-y-4 text-gray-700">
                      <li class="flex items-start">
                        <span class="bg-green-100 text-green-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-semibold mr-3 mt-0.5">1</span>
                        Specify your Ledger Bitcoin address for rewards
                      </li>
                      <li class="flex items-start">
                        <span class="bg-green-100 text-green-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-semibold mr-3 mt-0.5">2</span>
                        Select the number of stacking cycles (typically 1-12)
                      </li>
                      <li class="flex items-start">
                        <span class="bg-green-100 text-green-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-semibold mr-3 mt-0.5">3</span>
                        Review and confirm transaction details on Ledger device
                      </li>
                      <li class="flex items-start">
                        <span class="bg-green-100 text-green-600 rounded-full w-6 h-6 flex items-center justify-center text-sm font-semibold mr-3 mt-0.5">4</span>
                        Physically approve the transaction on your Ledger
                      </li>
                    </ol>
                  </div>
                  <div class="bg-green-50 p-6 rounded-lg">
                    <h4 class="font-semibold text-green-900 mb-3">Transaction Security</h4>
                    <p class="text-green-800 text-sm">Every transaction must be <strong>physically confirmed on your Ledger device</strong>, ensuring complete control over your assets.</p>
                  </div>
                </div>
              </div>
            </div>

            <!-- Process Flow Diagram
            <div class="mt-12">
              <h3 class="serif text-2xl font-semibold mb-6 text-center">STX Stacking Process Flow</h3>
              <div class="mermaid-container">
                <div class="mermaid-controls">
                  <button class="mermaid-control-btn zoom-in" title="放大">
                    <i class="fas fa-search-plus"></i>
                  </button>
                  <button class="mermaid-control-btn zoom-out" title="缩小">
                    <i class="fas fa-search-minus"></i>
                  </button>
                  <button class="mermaid-control-btn reset-zoom" title="重置">
                    <i class="fas fa-expand-arrows-alt"></i>
                  </button>
                  <button class="mermaid-control-btn fullscreen" title="全屏查看">
                    <i class="fas fa-expand"></i>
                  </button>
                </div>
                <div class="mermaid">
                  flowchart TD
                  A[&#34;Ledger Device with STX&#34;] --&gt; B[&#34;Connect to Xverse Wallet&#34;]
                  B --&gt; C[&#34;Access pool.xverse.app&#34;]
                  C --&gt; D[&#34;Configure Stacking Parameters&#34;]
                  D --&gt; E[&#34;Specify BTC Reward Address&#34;]
                  E --&gt; F[&#34;Confirm on Ledger Device&#34;]
                  F --&gt; G[&#34;STX Locked in Smart Contract&#34;]
                  G --&gt; H[&#34;Earn BTC Rewards&#34;]
                  H --&gt; I[&#34;BTC Sent to Ledger Address&#34;]

                  style A fill:#e0f2fe,stroke:#1e3a8a,stroke-width:2px,color:#1e3a8a
                  style B fill:#f0f9ff,stroke:#0f766e,stroke-width:2px,color:#0f766e
                  style C fill:#f0f9ff,stroke:#0f766e,stroke-width:2px,color:#0f766e
                  style D fill:#f0f9ff,stroke:#0f766e,stroke-width:2px,color:#0f766e
                  style E fill:#f0f9ff,stroke:#0f766e,stroke-width:2px,color:#0f766e
                  style F fill:#fef3c7,stroke:#f59e0b,stroke-width:2px,color:#f59e0b
                  style G fill:#ecfdf5,stroke:#059669,stroke-width:2px,color:#059669
                  style H fill:#fdf4ff,stroke:#9333ea,stroke-width:2px,color:#9333ea
                  style I fill:#fdf4ff,stroke:#9333ea,stroke-width:2px,color:#9333ea
                </div>
              </div>
            </div>
          </div>
        </div>
      </section> -->

      <!-- Benefits Section -->
      <section id="benefits" class="py-20 bg-white">
        <div class="container mx-auto px-8">
          <div class="max-w-4xl mx-auto">
            <h2 class="serif text-4xl font-bold text-gray-900 mb-12 text-center">
              Benefits of Xverse + Ledger STX Stacking
            </h2>

            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8 mb-12">
              <div class="bg-gradient-to-br from-blue-50 to-blue-100 p-8 rounded-xl border border-blue-200">
                <div class="flex items-center mb-4">
                  <i class="fas fa-shield-alt text-blue-600 text-3xl mr-4"></i>
                  <h3 class="serif text-xl font-semibold text-blue-900">Self-Custody Security</h3>
                </div>
                <p class="text-blue-800 mb-4">Maintain complete control over your STX tokens with cold storage security. Private keys never leave your Ledger device.</p>
                <ul class="text-blue-700 text-sm space-y-2">
                  <li>• Physical confirmation required for all transactions</li>
                  <li>• Protection against remote attacks</li>
                  <li>• No custodial risk exposure</li>
                </ul>
              </div>

              <div class="bg-gradient-to-br from-yellow-50 to-yellow-100 p-8 rounded-xl border border-yellow-200">
                <div class="flex items-center mb-4">
                  <i class="fas fa-chart-line text-yellow-600 text-3xl mr-4"></i>
                  <h3 class="serif text-xl font-semibold text-yellow-900">BTC Rewards</h3>
                </div>
                <p class="text-yellow-800 mb-4">Continue earning ~10% APY in Bitcoin while maintaining enhanced security for your STX holdings.</p>
                <ul class="text-yellow-700 text-sm space-y-2">
                  <li>• ~10% annual yield paid in BTC</li>
                  <li>• Rewards sent to your Ledger BTC address</li>
                  <li>• Passive income generation</li>
                </ul>
              </div>

              <div class="bg-gradient-to-br from-green-50 to-green-100 p-8 rounded-xl border border-green-200">
                <div class="flex items-center mb-4">
                  <i class="fas fa-user-cog text-green-600 text-3xl mr-4"></i>
                  <h3 class="serif text-xl font-semibold text-green-900">Full Control</h3>
                </div>
                <p class="text-green-800 mb-4">Complete flexibility in choosing stacking parameters and freedom to interact with other Stacks dApps.</p>
                <ul class="text-green-700 text-sm space-y-2">
                  <li>• Choose stacking cycles</li>
                  <li>• Select reward distribution address</li>
                  <li>• Non-custodial flexibility</li>
                </ul>
              </div>
            </div>

            <div class="bg-gray-50 p-8 rounded-xl">
              <h3 class="serif text-2xl font-semibold mb-6 text-center">Security Comparison</h3>
              <div class="overflow-x-auto">
                <table class="w-full">
                  <thead>
                    <tr class="border-b border-gray-200">
                      <th class="text-left py-4 px-4 font-semibold text-gray-900">Feature</th>
                      <th class="text-center py-4 px-4 font-semibold text-gray-900">Current (StackingDAO + Web Wallet)</th>
                      <th class="text-center py-4 px-4 font-semibold text-green-700">Xverse + Ledger Solution</th>
                    </tr>
                  </thead>
                  <tbody class="text-sm">
                    <tr class="border-b border-gray-100">
                      <td class="py-4 px-4 font-medium">Private Key Storage</td>
                      <td class="py-4 px-4 text-center">Web wallet</td>
                      <td class="py-4 px-4 text-center text-green-600 font-semibold">Ledger Hardware</td>
                    </tr>
                    <tr class="border-b border-gray-100">
                      <td class="py-4 px-4 font-medium">Transaction Signing</td>
                      <td class="py-4 px-4 text-center">Web interface</td>
                      <td class="py-4 px-4 text-center text-green-600 font-semibold">Physical confirmation</td>
                    </tr>
                    <tr class="border-b border-gray-100">
                      <td class="py-4 px-4 font-medium">Asset Control During Stacking</td>
                      <td class="py-4 px-4 text-center">Smart contract control</td>
                      <td class="py-4 px-4 text-center text-green-600 font-semibold">User retains control</td>
                    </tr>
                    <tr>
                      <td class="py-4 px-4 font-medium">Reward Destination</td>
                      <td class="py-4 px-4 text-center">User-defined BTC address</td>
                      <td class="py-4 px-4 text-center text-green-600 font-semibold">Ledger BTC address</td>
                    </tr>
                  </tbody>
                </table>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- Best Practices -->
      <section id="considerations" class="py-20 bg-gray-50">
        <div class="container mx-auto px-8">
          <div class="max-w-4xl mx-auto">
            <h2 class="serif text-4xl font-bold text-gray-900 mb-12 text-center">
              Important Considerations &amp; Best Practices
            </h2>

            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-12">
              <div class="bg-white p-8 rounded-xl shadow-sm">
                <h3 class="serif text-xl font-semibold mb-6 flex items-center">
                  <i class="fas fa-clock text-blue-600 mr-3"></i>
                  Stacking Cycles
                </h3>
                <p class="text-gray-700 mb-4">Stacking occurs in cycles lasting approximately <strong>two weeks</strong> (2000 Bitcoin blocks). During this time, your STX tokens are locked and cannot be transferred.</p>
                <div class="bg-blue-50 p-4 rounded-lg">
                  <h4 class="font-semibold text-blue-900 mb-2">Key Points:</h4>
                  <ul class="text-blue-800 text-sm space-y-1">
                    <li>• Rewards distributed at cycle end</li>
                    <li>• No automatic compounding</li>
                    <li>• Re-stacking required for continued rewards</li>
                  </ul>
                </div>
              </div>

              <div class="bg-white p-8 rounded-xl shadow-sm">
                <h3 class="serif text-xl font-semibold mb-6 flex items-center">
                  <i class="fas fa-coins text-purple-600 mr-3"></i>
                  Minimum Requirements
                </h3>
                <p class="text-gray-700 mb-4">The Xverse Pool has a relatively low minimum requirement of <strong>100 STX</strong>, making it accessible to most holders. <a href="https://www.xverse.app/sc-blogs/stacking" class="citation" target="_blank">View current requirements</a>.</p>
                <div class="bg-purple-50 p-4 rounded-lg">
                </div>
              </div>
            </div>

            <div class="bg-red-50 border border-red-200 p-8 rounded-xl mb-8">
              <h3 class="serif text-xl font-semibold text-red-900 mb-6 flex items-center">
                <i class="fas fa-exclamation-triangle text-red-600 mr-3"></i>
                Critical Security Precautions
              </h3>

              <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                <div>
                  <h4 class="font-semibold text-red-900 mb-3">Hardware Wallet Security</h4>
                  <ul class="text-red-800 text-sm space-y-2">
                    <li>• <strong>Only download from official sources</strong> - Xverse extension and Ledger apps</li>
                    <li>• <strong>Verify addresses on Ledger screen</strong> - Match addresses shown in Xverse</li>
                    <li>• <strong>Physical confirmation required</strong> - Verify transaction details on Ledger</li>
                    <li>• <strong>Secure recovery phrase</strong> - Store offline, never share</li>
                  </ul>
                </div>
                <div>
                  <h4 class="font-semibold text-red-900 mb-3">Phishing Protection</h4>
                  <ul class="text-red-800 text-sm space-y-2">
                    <li>• <strong>Beware of phishing attempts</strong> - Legitimate services never ask for recovery phrase</li>
                    <li>• <strong>Keep software updated</strong> - Regular firmware and wallet updates</li>
                    <li>• <strong>Double-check URLs</strong> - Only use official Xverse websites</li>
                    <li>• <strong>Use bookmarks</strong> - For frequently accessed services</li>
                  </ul>
                </div>
              </div>
            </div>

            <div class="bg-green-50 border border-green-200 p-8 rounded-xl">
              <h3 class="serif text-xl font-semibold text-green-900 mb-4 flex items-center">
                <i class="fas fa-check-circle text-green-600 mr-3"></i>
                Summary: Why Xverse + Ledger Works for You
              </h3>
              <p class="text-green-800 mb-4">
                The Xverse wallet integration with Ledger hardware devices provides exactly the solution you&#39;re seeking: <strong>secure, self-custodial STX stacking</strong> that aligns with your security preferences for cold storage.
              </p>
              <p class="text-green-700 text-sm">
                By following the step-by-step process outlined above, you can transition all your STX from web-wallet-based stacking with StackingDAO to a more secure Ledger-based stacking arrangement while continuing to earn approximately 10% APY in Bitcoin rewards. This approach maintains your philosophy of self-custody while optimizing your participation in the Stacks ecosystem.
              </p>
            </div>
          </div>
        </div>
      </section>

      <!-- Footer -->
      <footer class="bg-gray-900 text-white py-12">
        <div class="container mx-auto px-8">
          <div class="text-center">
            <h3 class="serif text-2xl font-semibold mb-4">Ready to Secure Your STX Stacking?</h3>
            <p class="text-gray-300 mb-6">Transition to Ledger-based stacking while maintaining your Bitcoin rewards</p>
            <div class="flex justify-center space-x-6">
              <a href="https://www.xverse.app/download" class="bg-blue-600 hover:bg-blue-700 px-6 py-3 rounded-lg font-semibold transition-colors" target="_blank">
                Download Xverse
              </a>
              <a href="https://support.xverse.app/hc/en-us/articles/17819233917965-How-to-Connect-Your-Ledger-Device-to-Xverse" class="bg-gray-700 hover:bg-gray-600 px-6 py-3 rounded-lg font-semibold transition-colors" target="_blank">
                Setup Guide
              </a>
            </div>
          </div>

          <div class="border-t border-gray-800 mt-8 pt-8 text-center">
            <p class="text-gray-400 text-sm">
              This guide is for educational purposes only. Always verify information from official sources and exercise caution when managing cryptocurrency assets.
            </p>
          </div>
        </div>
      </footer>
    </main>

    <script>
        // Initialize Mermaid with enhanced styling for better contrast
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'base',
            themeVariables: {
                // Primary colors with good contrast
                primaryColor: '#e0f2fe',
                primaryTextColor: '#1e3a8a',
                primaryBorderColor: '#1e3a8a',
                
                // Secondary colors
                secondaryColor: '#f0f9ff',
                secondaryTextColor: '#0f766e',
                secondaryBorderColor: '#0f766e',
                
                // Tertiary colors
                tertiaryColor: '#fef3c7',
                tertiaryTextColor: '#92400e',
                tertiaryBorderColor: '#d97706',
                
                // Additional node colors with proper contrast
                primaryColorLight: '#f0f9ff',
                primaryColorDark: '#1e3a8a',
                
                // Line and background colors
                lineColor: '#374151',
                background: '#ffffff',
                mainBkg: '#ffffff',
                secondBkg: '#f8fafc',
                tertiaryBkg: '#f1f5f9',
                
                // Text colors for better readability
                textColor: '#374151',
                darkTextColor: '#111827',
                
                // Node-specific colors with high contrast
                cScale0: '#e0f2fe',
                cScale1: '#f0f9ff', 
                cScale2: '#fef3c7',
                cScale3: '#ecfdf5',
                cScale4: '#fdf4ff',
                
                // Ensure text is readable on all backgrounds
                nodeBorder: '#374151',
                clusterBkg: '#f8fafc',
                clusterBorder: '#d1d5db',
                defaultLinkColor: '#374151',
                titleColor: '#111827',
                edgeLabelBackground: '#ffffff',
                
                // Actor colors (for other diagram types)
                actorBorder: '#1e3a8a',
                actorBkg: '#e0f2fe',
                actorTextColor: '#1e3a8a',
                actorLineColor: '#374151',
                
                // Signal colors
                signalColor: '#374151',
                signalTextColor: '#374151'
            },
            flowchart: {
                useMaxWidth: true,
                htmlLabels: true,
                curve: 'basis',
                padding: 20
            },
            fontFamily: 'Inter, sans-serif',
            fontSize: '14px',
            fontWeight: '500'
        });

        // Initialize Mermaid Controls for zoom and pan
        function initializeMermaidControls() {
            const containers = document.querySelectorAll('.mermaid-container');

            containers.forEach(container => {
            const mermaidElement = container.querySelector('.mermaid');
            let scale = 1;
            let isDragging = false;
            let startX, startY, translateX = 0, translateY = 0;

            // 触摸相关状态
            let isTouch = false;
            let touchStartTime = 0;
            let initialDistance = 0;
            let initialScale = 1;
            let isPinching = false;

            // Zoom controls
            const zoomInBtn = container.querySelector('.zoom-in');
            const zoomOutBtn = container.querySelector('.zoom-out');
            const resetBtn = container.querySelector('.reset-zoom');
            const fullscreenBtn = container.querySelector('.fullscreen');

            function updateTransform() {
                mermaidElement.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;

                if (scale > 1) {
                container.classList.add('zoomed');
                } else {
                container.classList.remove('zoomed');
                }

                mermaidElement.style.cursor = isDragging ? 'grabbing' : 'grab';
            }

            if (zoomInBtn) {
                zoomInBtn.addEventListener('click', () => {
                scale = Math.min(scale * 1.25, 4);
                updateTransform();
                });
            }

            if (zoomOutBtn) {
                zoomOutBtn.addEventListener('click', () => {
                scale = Math.max(scale / 1.25, 0.3);
                if (scale <= 1) {
                    translateX = 0;
                    translateY = 0;
                }
                updateTransform();
                });
            }

            if (resetBtn) {
                resetBtn.addEventListener('click', () => {
                scale = 1;
                translateX = 0;
                translateY = 0;
                updateTransform();
                });
            }

            if (fullscreenBtn) {
                fullscreenBtn.addEventListener('click', () => {
                if (container.requestFullscreen) {
                    container.requestFullscreen();
                } else if (container.webkitRequestFullscreen) {
                    container.webkitRequestFullscreen();
                } else if (container.msRequestFullscreen) {
                    container.msRequestFullscreen();
                }
                });
            }

            // Mouse Events
            mermaidElement.addEventListener('mousedown', (e) => {
                if (isTouch) return; // 如果是触摸设备，忽略鼠标事件

                isDragging = true;
                startX = e.clientX - translateX;
                startY = e.clientY - translateY;
                mermaidElement.style.cursor = 'grabbing';
                updateTransform();
                e.preventDefault();
            });

            document.addEventListener('mousemove', (e) => {
                if (isDragging && !isTouch) {
                translateX = e.clientX - startX;
                translateY = e.clientY - startY;
                updateTransform();
                }
            });

            document.addEventListener('mouseup', () => {
                if (isDragging && !isTouch) {
                isDragging = false;
                mermaidElement.style.cursor = 'grab';
                updateTransform();
                }
            });

            document.addEventListener('mouseleave', () => {
                if (isDragging && !isTouch) {
                isDragging = false;
                mermaidElement.style.cursor = 'grab';
                updateTransform();
                }
            });

            // 获取两点之间的距离
            function getTouchDistance(touch1, touch2) {
                return Math.hypot(
                touch2.clientX - touch1.clientX,
                touch2.clientY - touch1.clientY
                );
            }

            // Touch Events - 触摸事件处理
            mermaidElement.addEventListener('touchstart', (e) => {
                isTouch = true;
                touchStartTime = Date.now();

                if (e.touches.length === 1) {
                // 单指拖动
                isPinching = false;
                isDragging = true;

                const touch = e.touches[0];
                startX = touch.clientX - translateX;
                startY = touch.clientY - translateY;

                } else if (e.touches.length === 2) {
                // 双指缩放
                isPinching = true;
                isDragging = false;

                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                initialDistance = getTouchDistance(touch1, touch2);
                initialScale = scale;
                }

                e.preventDefault();
            }, { passive: false });

            mermaidElement.addEventListener('touchmove', (e) => {
                if (e.touches.length === 1 && isDragging && !isPinching) {
                // 单指拖动
                const touch = e.touches[0];
                translateX = touch.clientX - startX;
                translateY = touch.clientY - startY;
                updateTransform();

                } else if (e.touches.length === 2 && isPinching) {
                // 双指缩放
                const touch1 = e.touches[0];
                const touch2 = e.touches[1];
                const currentDistance = getTouchDistance(touch1, touch2);

                if (initialDistance > 0) {
                    const newScale = Math.min(Math.max(
                    initialScale * (currentDistance / initialDistance),
                    0.3
                    ), 4);
                    scale = newScale;
                    updateTransform();
                }
                }

                e.preventDefault();
            }, { passive: false });

            mermaidElement.addEventListener('touchend', (e) => {
                // 重置状态
                if (e.touches.length === 0) {
                isDragging = false;
                isPinching = false;
                initialDistance = 0;

                // 延迟重置isTouch，避免鼠标事件立即触发
                setTimeout(() => {
                    isTouch = false;
                }, 100);
                } else if (e.touches.length === 1 && isPinching) {
                // 从双指变为单指，切换为拖动模式
                isPinching = false;
                isDragging = true;

                const touch = e.touches[0];
                startX = touch.clientX - translateX;
                startY = touch.clientY - translateY;
                }

                updateTransform();
            });

            mermaidElement.addEventListener('touchcancel', (e) => {
                isDragging = false;
                isPinching = false;
                initialDistance = 0;

                setTimeout(() => {
                isTouch = false;
                }, 100);

                updateTransform();
            });

            // Enhanced wheel zoom with better center point handling
            container.addEventListener('wheel', (e) => {
                e.preventDefault();
                const rect = container.getBoundingClientRect();
                const centerX = rect.width / 2;
                const centerY = rect.height / 2;

                const delta = e.deltaY > 0 ? 0.9 : 1.1;
                const newScale = Math.min(Math.max(scale * delta, 0.3), 4);

                // Adjust translation to zoom towards center
                if (newScale !== scale) {
                const scaleDiff = newScale / scale;
                translateX = translateX * scaleDiff;
                translateY = translateY * scaleDiff;
                scale = newScale;

                if (scale <= 1) {
                    translateX = 0;
                    translateY = 0;
                }

                updateTransform();
                }
            });

            // Initialize display
            updateTransform();
            });
        }

        // Initialize the controls when the DOM is loaded
        document.addEventListener('DOMContentLoaded', function() {
            initializeMermaidControls();
        });

        // Smooth scrolling for anchor links
        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
            anchor.addEventListener('click', function (e) {
                e.preventDefault();
                const target = document.querySelector(this.getAttribute('href'));
                if (target) {
                    target.scrollIntoView({
                        behavior: 'smooth',
                        block: 'start'
                    });
                }
            });
        });

        // Highlight active section in TOC
        const sections = document.querySelectorAll('section[id]');
        const navLinks = document.querySelectorAll('.toc-fixed a[href^="#"]');

        function highlightActiveSection() {
            let current = '';
            sections.forEach(section => {
                const sectionTop = section.offsetTop;
                const sectionHeight = section.clientHeight;
                if (window.scrollY >= sectionTop - 100) {
                    current = section.getAttribute('id');
                }
            });

            navLinks.forEach(link => {
                link.classList.remove('text-blue-600', 'font-semibold');
                link.classList.add('text-gray-600');
                if (link.getAttribute('href') === '#' + current) {
                    link.classList.remove('text-gray-600');
                    link.classList.add('text-blue-600', 'font-semibold');
                }
            });
        }

        window.addEventListener('scroll', highlightActiveSection);
        highlightActiveSection(); // Initial call

        // Add hover effects to step cards
        document.querySelectorAll('.step-card').forEach(card => {
            card.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-4px)';
            });
            
            card.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
            });
        });
    </script>
  

</body>
</html>