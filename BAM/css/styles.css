/* BAM Website Condensed Styles v2 */
@import url('https://fonts.googleapis.com/css2?family=VT323&family=Space+Mono:wght@400;700&family=Press+Start+2P&display=swap');

/* Reset & Vars */
*{margin:0;padding:0;box-sizing:border-box}
:root{--black:#000;--white:#fff;--blue:#0ff;--dark:#222;--light:#eee;--f-header:'VT323',monospace;--f-body:'Space Mono',monospace;--f-accent:'Press Start 2P',cursive;--trans:.3s;--h-desk:80px;--h-mob:60px}

/* Base */
html{scroll-behavior:smooth;scroll-padding-top:var(--h-desk)}
body{font-family:var(--f-body);background:var(--black);color:var(--white);line-height:1.6;overflow-x:hidden;padding-top:var(--h-desk)}
a{color:var(--blue);text-decoration:none;transition:color var(--trans)}
a:hover{text-decoration:underline;color:var(--white)}
p, .section-header, .copyright{margin-bottom:1.5rem}
.container{max-width:1200px;width:100%;margin:0 auto;padding:0 1rem}

/* Typography */
h1,h2,h3,h4,h5,h6{font-family:var(--f-header);margin-bottom:1rem;line-height:1.2}
h1{font-size:3.5rem}h2{font-size:2.5rem}h3{font-size:2rem}

/* Buttons */
.btn, .btn-primary, .btn-preset-play, .btn-icon{transition:all var(--trans);cursor:pointer;display:inline-flex;align-items:center;justify-content:center}
.btn{font-family:var(--f-accent);font-size:.8rem;padding:.8rem 1.5rem;background:var(--black);color:var(--blue);border:2px solid var(--blue);text-transform:uppercase;letter-spacing:1px}
.btn-primary{background:var(--blue);color:var(--black);border-color:var(--blue)}
.btn:hover{background:var(--blue);color:var(--black)}
.btn-primary:hover{background:var(--black);color:var(--blue)}
.btn-icon{background:none;border:1px solid var(--blue);color:var(--blue);width:35px;height:35px;border-radius:50%;padding:0;font-size:.9rem}
.btn-icon:hover{background:var(--blue);color:var(--black)}
.btn.btn-small{padding:.4rem .8rem;font-size:.7rem}

/* Header & Nav */
header{position:fixed;top:0;left:0;width:100%;padding:1rem 0;min-height:var(--h-desk);background:rgba(0,0,0,.9);border-bottom:2px solid var(--blue);z-index:1000;display:flex;align-items:center}
.header-container{display:flex;justify-content:space-between;align-items:center;width:100%}
.logo{display:flex;align-items:center}
.logo img{height:50px;margin-right:1rem}
.logo h1{font-size:2rem}
.nav-toggle{display:none;background:none;border:none;color:var(--white);font-size:1.5rem}
nav{display:flex}
nav ul{display:flex;list-style:none}
nav li{margin-left:2rem}
nav a{font-family:var(--f-header);font-size:1.2rem;color:var(--white);position:relative;transition:color var(--trans)}
nav a:hover{color:var(--blue)}
nav a::after{content:'';position:absolute;bottom:-5px;left:0;width:0;height:2px;background:var(--blue);transition:width var(--trans)}
nav a:hover::after{width:100%}

/* Hero */
.hero{min-height:calc(100vh - var(--h-desk));display:flex;align-items:center;position:relative;overflow:hidden;background:var(--black);padding:3rem 0}
.hero::before{content:'';position:absolute;inset:0;background:linear-gradient(45deg,rgba(0,255,255,.1),transparent 70%);z-index:1}
.hero-content{position:relative;z-index:2;display:flex;align-items:center;justify-content:space-between;width:100%}
.hero-text{flex:1;padding-right:2rem;margin-top:1rem}
.hero-text h1{font-size:4rem;margin-bottom:1rem;text-shadow:0 0 10px rgba(0,255,255,.5)}
.hero-text p{font-size:1.2rem;max-width:600px;margin-bottom:2rem}
.hero-image{flex:1;display:flex;justify-content:center;align-items:center}
.hero-image img{max-width:100%;height:auto;filter:drop-shadow(0 0 20px rgba(0,255,255,.3))}

/* Sections */
.features, .about, .cta, .samples, .technology, footer{padding:5rem 0}
.features, .about{background:var(--dark)}
.features-grid, .samples-grid, .tech-grid{display:grid;gap:2rem;grid-template-columns:repeat(auto-fit,minmax(300px,1fr))}
.feature-card, .sample-card, .tech-card{background:var(--dark);padding:2rem;border:1px solid var(--blue);text-align:center;transition:transform var(--trans)}
.feature-card:hover{transform:translateY(-10px)}
.sample-card{padding:1.5rem}
.sample-card:hover{transform:scale(1.03);box-shadow:0 0 15px rgba(0,255,255,.3)}
.feature-icon{font-size:3rem;color:var(--blue);margin-bottom:1rem}
.sample-title{font-family:var(--f-header);font-size:1.5rem;margin-bottom:.5rem}
.sample-category{font-size:.8rem;color:var(--blue);text-transform:uppercase;margin-bottom:1rem}
.sample-player{width:100%;margin-bottom:1rem}
.sample-player audio{width:100%}
.sample-info{font-size:.9rem;color:var(--light)}
.about-content, .modal-body{display:flex;align-items:center;gap:3rem}
.about-content{flex-wrap:wrap}
.about-text{flex:2}
.about-image{flex:1;display:flex;justify-content:center}
.about-image img{max-width:100%;border:2px solid var(--blue)}
.tech-card h3{color:var(--blue);margin-bottom:1rem}
.cta{text-align:center}
.cta h2{font-size:3rem;margin-bottom:1.5rem}
.cta p{max-width:600px;margin:0 auto 2rem;font-size:1.2rem}
footer{background:var(--black);border-top:2px solid var(--blue)}
.footer-content{display:flex;flex-wrap:wrap;justify-content:space-between;gap:2rem}
.footer-logo, .footer-links, .footer-social{flex:1;min-width:250px}
.footer-logo img{height:60px;margin-bottom:1rem}
.footer-links h3{margin-bottom:1.5rem;color:var(--blue)}
.footer-links ul li{margin-bottom:.5rem}
.social-icons{display:flex;gap:1rem;margin-top:1rem}
.social-icons a{width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;background:var(--dark);color:var(--white);transition:all var(--trans)}
.social-icons a:hover{background:var(--blue);color:var(--black);transform:translateY(-5px)}

/* Presets List */
.preset-list-container{margin:15px 0 10px;padding-left:15px;border-left:3px solid var(--light)}
.preset-list-container h4{font-size:.9em;color:#666;margin-bottom:10px}
ul.preset-list{list-style:none}
li.preset-item{display:flex;justify-content:space-between;align-items:center;padding:6px 0;font-size:.9em}
span.preset-name{color:#333;margin-right:10px}
.btn-preset-play{background:var(--blue);color:#fff;border:none;border-radius:50%;width:28px;height:28px;padding:0;font-size:.8em;transition:background var(--trans),opacity var(--trans);flex-shrink:0}
.btn-preset-play:hover:not(:disabled){background:var(--dark)}
.btn-preset-play.placeholder{background:#ccc;cursor:not-allowed;opacity:.6;position:relative}
.btn-preset-play.placeholder::before{content:attr(data-tooltip);position:absolute;bottom:120%;left:50%;transform:translateX(-50%);background:rgba(0,0,0,.8);color:#fff;padding:5px 10px;border-radius:4px;font-size:.85em;white-space:nowrap;opacity:0;visibility:hidden;transition:opacity .3s,visibility .3s;z-index:10}
.btn-preset-play.placeholder:hover::before{opacity:1;visibility:visible}
.sample-card{overflow:visible}

/* Anim & Scrollbar & Media Controls */
.fade-in{animation:fadeIn 1s ease-in-out}
.slide-up{animation:slideUp 1s ease-in-out}
.pulse{animation:pulse 2s infinite}
@keyframes fadeIn{0%{opacity:0}100%{opacity:1}}@keyframes slideUp{0%{transform:translateY(50px);opacity:0}100%{transform:translateY(0);opacity:1}}@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.05)}}
::-webkit-scrollbar{width:10px}
::-webkit-scrollbar-track{background:var(--black)}
::-webkit-scrollbar-thumb{background:var(--blue)}
::-webkit-scrollbar-thumb:hover{background:var(--white)}
audio::-webkit-media-controls-panel{background:var(--dark)}
audio::-webkit-media-controls-play-button{background:var(--blue);border-radius:50%}
audio::-webkit-media-controls-current-time-display,audio::-webkit-media-controls-time-remaining-display{color:var(--white)}

/* Modal */
.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.8);padding:1rem;opacity:0;transition:opacity .3s;z-index:2000}
.modal.active{display:flex;opacity:1}
.modal-overlay{position:absolute;inset:0;cursor:pointer;z-index:1}
.modal-content{position:relative;background:var(--dark);color:var(--white);padding:2rem;border:2px solid var(--blue);border-radius:8px;max-width:90vw;max-height:90vh;overflow-y:auto;box-shadow:0 0 30px rgba(0,255,255,.4);transform:scale(.9);transition:transform .3s;z-index:2}
.modal.active .modal-content{transform:scale(1)}
.modal-close{position:absolute;top:10px;right:15px;background:none;border:none;color:var(--white);font-size:2.5rem;cursor:pointer;transition:color var(--trans)}
.modal-close:hover{color:var(--blue)}
.modal-header{border-bottom:1px solid var(--blue);padding-bottom:1rem;margin-bottom:1.5rem}
.modal-title{font-family:var(--f-header);font-size:2.2rem;color:var(--blue);margin:0}
.modal-body{display:flex;gap:2rem}
.modal-image-container,.modal-presets{flex:1;min-width:300px;display:flex;flex-direction:column;align-items:center}
.modal-image{max-width:100%;max-height:400px;height:auto;object-fit:contain;border:1px solid var(--dark);margin-bottom:1rem}
.inscription-link{font-size:.9rem;text-align:center}
.modal-presets-list{max-height:350px;overflow-y:auto;padding-right:10px}
.preset-item{display:flex;justify-content:space-between;align-items:center;padding:.8rem .5rem;border-bottom:1px solid rgba(0,255,255,.2);transition:background-color var(--trans)}
.preset-item:last-child{border-bottom:none}
.preset-item:hover{background:rgba(0,255,255,.05)}
.preset-name{font-family:var(--f-body);font-size:1rem;flex-grow:1;margin-right:1rem}
.preset-controls{display:flex;gap:.75rem;align-items:center}

/* Responsive */
@media(max-width:992px){.hero-content{flex-direction:column;text-align:center}.hero-text{padding-right:0;margin:0 0 2rem}.hero-image{margin-top:2rem}.about-content{flex-direction:column}.about-image{order:-1;margin-bottom:2rem}}
@media(max-width:768px){html,body{padding-top:var(--h-mob);scroll-padding-top:var(--h-mob)}header{min-height:var(--h-mob);padding:.5rem 0}.logo img{height:40px}.logo h1{font-size:1.8rem}h1{font-size:2.5rem}h2{font-size:2rem}.nav-toggle{display:block}nav{position:fixed;top:var(--h-mob);left:0;width:100%;background:var(--black);padding:1rem 0;border-top:1px solid var(--blue);transform:translateY(-100%);opacity:0;visibility:hidden;transition:transform var(--trans),opacity var(--trans),visibility 0s var(--trans);z-index:999}nav.active{transform:translateY(0);opacity:1;visibility:visible;transition:transform var(--trans),opacity var(--trans),visibility 0s}nav ul{flex-direction:column;align-items:center}nav li{margin:1rem 0}.features-grid,.samples-grid,.tech-grid{grid-template-columns:1fr}.modal-content{max-width:95vw;padding:1.5rem}.modal-body{flex-direction:column;gap:1.5rem}.modal-image-container,.modal-presets{min-width:auto;width:100%}.modal-presets-list{max-height:250px}.modal-title{font-size:1.8rem}.modal-presets h3{font-size:1.5rem}}

/* styles.css */

/* --- Update Samples Grid & Card --- */
.samples-grid {
  display: grid;
  gap: 1.5rem; /* Slightly reduce gap */
  grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); /* Adjust minmax if needed */
}

.sample-card {
  background: var(--dark);
  border: 1px solid var(--blue);
  text-align: center; /* Keep text centered by default */
  transition: transform var(--trans), box-shadow var(--trans); /* Combine transitions */
  overflow: hidden; /* Hide overflow to maintain shape */

  /* --- Make the card square --- */
  aspect-ratio: 1 / 1; /* Force 1:1 aspect ratio */

  /* --- Use Flexbox to manage content vertically --- */
  display: flex;
  flex-direction: column;
  justify-content: space-between; /* Pushes presets down (if space allows) */
  padding: 1rem; /* Adjust padding as needed */
}

.sample-card:hover {
  transform: scale(1.03);
  box-shadow: 0 0 15px rgba(0, 255, 255, .3);
  z-index: 5; /* Ensure hovered card is on top */
  position: relative; /* Needed for z-index */
}

/* Adjust spacing for elements inside the card */
.sample-title {
  font-family: var(--f-header);
  font-size: 1.3rem; /* Slightly smaller */
  margin-bottom: 0.25rem;
  flex-shrink: 0; /* Prevent shrinking */
}

.sample-category {
  font-size: 0.75rem;
  color: var(--blue);
  text-transform: uppercase;
  margin-bottom: 0.5rem;
  flex-shrink: 0; /* Prevent shrinking */
}

.sample-player {
  width: 100%;
  margin-bottom: 0.5rem;
  /* Let flexbox handle vertical sizing */
  flex-grow: 1; /* Allow player to take up space if needed */
  display: flex; /* Center audio controls */
  align-items: center;
  justify-content: center;
}

.sample-player audio {
  width: 90%; /* Don't let controls touch edges */
  max-height: 50px; /* Limit height */
}

.sample-info {
  font-size: 0.8rem;
  color: var(--light);
  margin-bottom: 0; /* Remove default bottom margin */
  flex-shrink: 0; /* Prevent shrinking */
}

/* --- Styling for Preset List Container (inside synth/plugin cards) --- */
.preset-list-container {
  margin: 10px 0 5px; /* Adjust vertical margins */
  padding: 0; /* Remove padding */
  border-left: none; /* Remove the old border */
  text-align: left; /* Align heading left */
  flex-grow: 1; /* Allow this section to take up space */
  display: flex;
  flex-direction: column;
  min-height: 0; /* Important for flex children in overflow context */
}

.preset-list-container h4 {
  font-size: 0.8em;
  color: #999; /* Lighter color */
  margin-bottom: 8px;
  text-align: center; /* Center the "Presets" heading */
  flex-shrink: 0; /* Prevent shrinking */
}

/* --- Turn Preset List into a Grid of Squares --- */
ul.preset-list {
  list-style: none;
  padding: 0;
  margin: 0;
  display: grid;
  /* Create columns for small squares, adjust minmax as needed */
  grid-template-columns: repeat(auto-fit, minmax(55px, 1fr));
  gap: 8px; /* Gap between preset squares */
  flex-grow: 1; /* Allow grid to fill container space */
  overflow-y: auto; /* Add scroll if presets overflow available space */
  padding: 5px; /* Small padding around the grid */
}

/* --- Style Individual Preset Items as Squares --- */
li.preset-item {
  /* Make it square */
  aspect-ratio: 1 / 1;

  /* Use Flexbox to center content within the square */
  display: flex;
  flex-direction: column;
  justify-content: center; /* Center vertically */
  align-items: center; /* Center horizontally */

  padding: 5px; /* Internal padding */
  font-size: 0.75em; /* Smaller font size */
  background-color: rgba(0, 255, 255, 0.05); /* Subtle background */
  border: 1px solid rgba(0, 255, 255, 0.2); /* Subtle border */
  border-radius: 4px; /* Slightly rounded corners */
  text-align: center;
  overflow: hidden; /* Hide overflow */
  position: relative; /* For positioning button/tooltip */
}

/* Adjust Preset Name styling */
span.preset-name {
  color: var(--light); /* Lighter text */
  margin: 0 0 5px 0; /* Reset margin, add small bottom margin */
  line-height: 1.2;
  /* Handle potential overflow */
  white-space: normal; /* Allow wrapping */
  overflow: hidden; /* Hide overflow */
  display: -webkit-box; /* Clamping for multi-line */
  -webkit-line-clamp: 2; /* Show max 2 lines */
  -webkit-box-orient: vertical;
  font-size: 0.8em; /* Even smaller */
  max-height: 2.4em; /* Approx height for 2 lines */
}

/* Adjust Preset Button styling */
.btn-preset-play {
  background: var(--blue);
  color: var(--black); /* Black icon on blue background */
  border: none;
  border-radius: 50%;
  width: 24px; /* Smaller button */
  height: 24px;
  padding: 0;
  font-size: 0.7em; /* Smaller icon */
  flex-shrink: 0;
  margin-top: auto; /* Push button towards bottom if name is short */
}

.btn-preset-play.placeholder {
  background: #555; /* Darker grey placeholder */
  color: #999;
  cursor: not-allowed;
  opacity: 0.7;
}

/* Adjust Tooltip position for smaller buttons */
.btn-preset-play.placeholder::before {
  bottom: 110%; /* Adjust position slightly */
  font-size: 0.8em; /* Smaller tooltip text */
}

/* Remove hover effect from parent card when hovering placeholder */
.sample-card:has(.btn-preset-play.placeholder:hover) {
  transform: none; /* Prevent card scaling */
  box-shadow: none; /* Prevent card shadow */
  z-index: auto;
}

/* Specific fix for Firefox clipping tooltips */
.sample-card {
  /* overflow: visible; NO - Keep hidden for shape */
  /* Tooltip positioning might need adjustment if clipped. */
  /* Consider using JS for tooltips if this remains an issue. */
}

/* Ensure audio controls placeholder uses similar styling */
.sample-player.placeholder {
  border: 1px dashed #555;
  min-height: 50px; /* Ensure placeholder has height */
  display: flex;
  align-items: center;
  justify-content: center;
  color: #666;
  font-size: 0.9em;
  position: relative; /* For tooltip */
}
.sample-player.placeholder::before {
  content: attr(data-tooltip);
  /* Style like the button tooltip */
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background-color: rgba(0, 0, 0, 0.8);
  color: #fff;
  padding: 5px 10px;
  border-radius: 4px;
  font-size: 0.85em;
  white-space: nowrap;
  opacity: 0;
  visibility: hidden;
  transition: opacity 0.3s ease, visibility 0.3s ease;
  z-index: 10;
}
.sample-player.placeholder:hover::before {
  opacity: 1;
  visibility: visible;
}
/* ======================================== */
/* === Sample Card Play/Pause Button ====== */
/* ======================================== */

.sample-card .play-pause-btn {
  /* Reset some defaults if needed, inherit cursor/transition */
  cursor: pointer;
  transition: background-color var(--trans), color var(--trans), transform var(--trans), border-color var(--trans);
  background-color: transparent; /* Start transparent */
  border: 2px solid var(--blue); /* Use theme border */
  color: var(--blue); /* Use theme color */
  border-radius: 50%; /* Make it circular */

  /* Make it bigger */
  width: 55px;       /* Set fixed width */
  height: 55px;      /* Set fixed height */
  padding: 0;        /* Remove default padding */

  /* Position & Alignment */
  display: inline-flex; /* Use flex to center icon */
  align-items: center;
  justify-content: center;
  margin-top: 1rem; /* Add some space above it */
  vertical-align: middle; /* Align nicely if text is next to it */
}

.sample-card .play-pause-btn i {
  font-size: 1.8rem; /* Increase icon size (adjust as needed) */
  line-height: 1;   /* Ensure icon is vertically centered */
  /* The flex centering above handles most alignment */
}

/* Hover effect */
.sample-card .play-pause-btn:hover,
.sample-card .play-pause-btn:focus { /* Add focus style for accessibility */
  background-color: var(--blue);
  color: var(--black);
  transform: scale(1.08); /* Slightly larger pop effect */
  outline: none; /* Remove default focus outline if adding custom styles */
}

/* Style for the 'playing' state (when JS adds the class) */
.sample-card .play-pause-btn.playing {
  background-color: var(--blue); /* Indicate it's active */
  color: var(--black);
  border-color: var(--blue);
}
.sample-card .play-pause-btn.playing:hover,
.sample-card .play-pause-btn.playing:focus {
   background-color: var(--white); /* Different hover when playing */
   color: var(--black);
   border-color: var(--white);
}

/* Ensure loading indicator is positioned reasonably if button size changes layout */
.sample-card .loading-indicator {
  display: inline-block; /* Allow margin */
  margin-left: 10px;
  vertical-align: middle; /* Align with button */
  font-size: 0.9rem;
  color: #aaa;
}