function initializeWorker(){if(!window.Worker)return console.error("Web Workers are not supported in your browser.");const e=new Blob(["\n        let stepDuration;\n        let timerID;\n\n        self.onmessage = ({ data }) => {\n            if (data.action === 'start') {\n                stepDuration = data.stepDuration * 500; // Convert to milliseconds\n                startScheduling();\n            } else if (data.action === 'stop') {\n                clearInterval(timerID);\n            }\n        };\n\n        function startScheduling() {\n            clearInterval(timerID);\n            timerID = setInterval(() => postMessage({ action: 'scheduleNotes' }), stepDuration);\n        }\n    "],{type:"application/javascript"}),t=URL.createObjectURL(e);audioWorker=new Worker(t),audioWorker.onmessage=({data:e})=>{"scheduleNotes"===e.action&&scheduleNotes()},window.addEventListener("beforeunload",cleanUpWorker)}function startWorker(){audioWorker?.postMessage({action:"start",stepDuration:getStepDuration()})}function stopWorker(){audioWorker?.postMessage({action:"stop"})}function getStepDuration(){return 60/(globalJsonData?.projectBPM||120)/4}