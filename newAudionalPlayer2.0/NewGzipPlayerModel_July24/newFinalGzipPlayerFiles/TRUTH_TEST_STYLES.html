<!DOCTYPE html>
<html>
<head>
    <title>TRUTH</title>
    <style>
        html, body {
            width: 100%;
            height: 100%;
            margin: 0;
            padding: 0;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: black;
        }

        #canvasWrapper {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }

        #myCanvas {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        canvas {
            position: absolute;
        }

        #canvas-container {
            display: flex;
            justify-content: center;
            align-items: center;
            width: 100%;
            height: 100%;
            position: relative;
        }

        #cv, body {
            background: #000;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
        }

        #title-display-container {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            text-align: center;
            z-index: 9999;
            pointer-events: none;
        }

        #project-name-display, 
        #by-display, 
        #artist-name-display, 
        #visual-artist-display, 
        #visual-artist-name-display {
            opacity: 0;
            font-weight: bold;
            position: absolute;
            text-align: center;
            left: 50%;
            transform: translate(-50%, -50%);
            width: auto;
            white-space: nowrap;
            margin: 0;
            padding: 0;
            line-height: normal;
            font-size: 50px;
        }
    </style>
</head>
<body>
    <div id="canvasWrapper">
        <canvas id="myCanvas"></canvas>
    </div>
    <script>
        window.seed = 1426;
        window.songDataUrl = "/content/5527d0cc95ce5ce6eedf4e275234da8b1fe087512d0db618b6de1aaad437c96bi0";

        function resizeCanvas() {
            const canvas = document.getElementById('myCanvas');
            const wrapper = document.getElementById('canvasWrapper');
            const aspectRatio = 16 / 9; // You can adjust this based on your desired aspect ratio

            if (wrapper.clientWidth / wrapper.clientHeight > aspectRatio) {
                canvas.width = wrapper.clientHeight * aspectRatio;
                canvas.height = wrapper.clientHeight;
            } else {
                canvas.width = wrapper.clientWidth;
                canvas.height = wrapper.clientWidth / aspectRatio;
            }
        }

        window.addEventListener('resize', resizeCanvas);
        resizeCanvas();

        const script = document.createElement('script');
        script.src = "/content/8ab830bf8385d5f68e944948fd1f6109de5d7acc68c62b7f7827f330d40ac2bdi0";
        script.onload = () => {
            // Ensure animation starts after the script loads
            function startAnimation() {
                if (typeof requestAnimationFrame !== 'undefined') {
                    requestAnimationFrame(() => {
                        if (typeof draw === 'function') {
                            draw(); // draw function should be defined in the visualizer script
                        }
                    });
                }
            }
            startAnimation();
        };
        document.body.appendChild(script);

        // Load pakoLoaderAndStyles.js
        !function() {
            const n = document.createElement("style");
            n.textContent = `
                canvas {
                    position: absolute;
                }
                body {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    height: 100vh;
                    margin: 0;
                    background-color: black;
                    position: relative;
                }
                #canvas-container {
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    width: 100%;
                    height: 100%;
                    position: relative;
                }
                #cv, body {
                    background: #000;
                    display: flex;
                    justify-content: center;
                    align-items: center;
                    height: 100vh;
                }
                #title-display-container {
                    position: fixed;
                    top: 50%;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    text-align: center;
                    z-index: 9999;
                    pointer-events: none;
                }
                #project-name-display, 
                #by-display, 
                #artist-name-display, 
                #visual-artist-display, 
                #visual-artist-name-display {
                    opacity: 0;
                    font-weight: bold;
                    position: absolute;
                    text-align: center;
                    left: 50%;
                    transform: translate(-50%, -50%);
                    width: auto;
                    white-space: nowrap;
                    margin: 0;
                    padding: 0;
                    line-height: normal;
                    font-size: 50px;
                }
            `;
            document.head.appendChild(n);

            const e = document.createElement("div");
            e.id = "canvas-container";
            const t = document.createElement("canvas");
            t.id = "cv"; // Ensure the correct ID if needed
            e.appendChild(t);
            document.body.appendChild(e);
        }();

        // Load pfpCapture.js
        !function() {
            const c = document.createElement("script");
            c.src = "/content/97c042112c29d9a9ca1da99890542befdbffaec6ff17798897c187a617a62f79i0";
            document.body.appendChild(c);
        }();
    </script>
</body>
</html>
