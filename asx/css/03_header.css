/* ───────────────────────────── 03_header.css ─────────────────────────── */

/* ─── Sticky header bars ─────────────────────────────────────────────── */
.global-header-bar{
  position:sticky;top:0;z-index:1000;
  backdrop-filter:blur(6px);
  background:linear-gradient(180deg,#242424e6 0%,#121212f2 100%);
  border-bottom:1px solid #0009;
  box-shadow:0 4px 12px #0006;
}
.sequence-header-bar{
  position:sticky;top:56px;z-index:990;
  background:#181818;
}

/* ─── Header grid & brand ────────────────────────────────────────────── */
.global-header-inner{
  max-width:1280px;
  margin-inline:auto;
  display:grid;
  grid-template-columns: auto 1fr auto;
  grid-template-areas:
    "title project controls";
  align-items:center;
  gap:1rem;
  padding:.5rem 1rem;
}
.app-title { grid-area: title; }

#project-name-input {
  width: 100%;
  min-width: 160px;
  max-width: 340px;
  box-sizing: border-box;
  justify-self: stretch;
}

.transport { grid-area: controls; }
/* ─── Project name field ─────────────────────────────────────────────── */
#project-name-input{
  width:100%;max-width:260px;padding:.4rem .6rem;
  text-align:center;font-weight:600;
  background:#1b1b1b;border:1px solid #000a;border-radius:6px;
  color:var(--accent);box-shadow:inset 0 1px 2px #000a;
}
#project-name-input::placeholder{color:#777;font-weight:normal;}

/* ─── Flex helpers for old markup (optional) ─────────────────────────── */
.header-row,
.transport{display:flex;align-items:center;flex-wrap:wrap;}
.header-row{width:100%;}
.header-left{flex:0 0 auto;}
.header-center{flex:1 1 auto;justify-content:center;padding:0 1rem;}
.header-right{flex:1 1 auto;justify-content:flex-end;}

/* ─── Numeric input (BPM) ────────────────────────────────────────────── */
.transport input[type=number]{
  width:4.5rem;padding:.25rem .4rem;text-align:center;
  background:#0f0f0f;border:1px solid #0008;border-radius:4px;color:#fafafa;
}

/* ─── Button system (one base, two skins) ───────────────────────────── */
:root{
  --btn-border:#0009;
  --btn-shadow:0 1px 2px #000 inset,0 0 4px #000;
}

/* Base style shared by all header buttons */
.icon-btn,.ghost-btn{
  display:inline-flex;align-items:center;justify-content:center;
  font:600 .8rem/1 system-ui,sans-serif;
  border:1px solid var(--btn-border);border-radius:8px;
  box-shadow:var(--btn-shadow);
  cursor:pointer;user-select:none;
  transition:transform .12s,box-shadow .12s,filter .12s;
}

/* ① Square transport buttons */
.icon-btn{--size:46px;width:var(--size);height:var(--size);font-size:1.4rem;border-radius:12px;}
.icon-btn.play{background:#27984e;border-color:#1f7a3d;color:#37e960;}
.icon-btn.stop{background:#ba2b25;border-color:#8c201c;color:#f44336;}
.icon-btn:hover {box-shadow:0 2px 6px #0009;}
.icon-btn:active{transform:scale(.95);box-shadow:0 0 3px #000 inset;}
.icon-btn:focus {outline:2px solid var(--accent);outline-offset:1px;}

/* ② Text / utility buttons */
.ghost-btn{padding:.4rem .75rem;background:transparent;color:var(--fg);}
.ghost-btn:hover {background:#ffffff11;}
.ghost-btn:active{background:#ffffff22;transform:scale(.97);}
.ghost-btn.accent{background:var(--accent);color:#000;border:none;}
.ghost-btn.accent:hover{filter:brightness(1.1);}

/* ─── Preset loader ---------------------------------------------------- */
.preset-loader{display:flex;align-items:center;gap:5px;margin-left:10px;}
.preset-loader select{
  min-width:180px;padding:.4rem .6rem;
  background:#1b1b1b;color:#ddd;
  border:1px solid var(--btn-border);border-radius:6px;
}
@keyframes flash-yellow{
  0%,100%{background:#444;box-shadow:var(--btn-shadow);color:var(--fg);}
  50%     {background:var(--accent);box-shadow:0 0 8px var(--accent);color:#000;}
}
#load-preset-btn.needs-attention{animation:flash-yellow 1.5s infinite;}

/* ─── Sequence-controls shell & misc. tweaks -------------------------- */
#sequence-controls{width:100%;padding:.1em 0 .2em;}
.header-sequence-row{margin-top:.25em;padding-bottom:.1em;min-height:44px;}

/* ─── Responsive collapse (≤640 px) ----------------------------------- */
@media(max-width:640px){
  .global-header-inner{
    grid-template-columns:1fr auto;
    grid-template-rows:auto auto;
    grid-template-areas:
      "title controls"
      "project controls";
  }
  .app-title { grid-column:1/2; grid-row:1/2; }
  #project-name-input { grid-column:1/2; grid-row:2/2; }
}
