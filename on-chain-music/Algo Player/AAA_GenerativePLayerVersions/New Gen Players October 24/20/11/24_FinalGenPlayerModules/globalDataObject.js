// globalDataObject.js
window.globalData?console.log("[Global Data] globalData already exists. Skipping initialization."):(window.globalData={isPlaying:!1,currentSongIndex:0,songsArray:[],audioBuffers:{},reverseAudioBuffers:{},audioContext:new(window.AudioContext||window.webkitAudioContext),masterGain:null,gainNodes:{},startPlayback:null,stopPlayback:null,togglePlayback:null,resetPlayback:null,isArtworkCover:!0,isVisualiserCover:!1,isMasterGainInitialized:!1,isAudioContextInitialized:!1,isPlaybackStarting:!1,isProceedingToNextSong:!1,playbackInterval:null,seedList:[],currentSeed:null,hasProceededToNextSong:!1,hasLoggedPlaybackNotActive:!1,hasCompletedSequences:!1,loopSampleData:[{id:"7c42769c1763cc8f045aada7914e8158223e45e7a4f197b49f918b1c005d36fci0",bpm:92.5,trimStart:0,trimEnd:0},{id:"3364803cb3032ce95f4138a214c15a9b36dcb70f574a477f27615d448e1cdeb8i0",bpm:105,trimStart:.009,trimEnd:0}],getLoopSampleInfo:function(t){return this.loopSampleData.find((n=>n.id===t))},initializeAudio:function(){this.isAudioContextInitialized||this.audioContext.resume().then((()=>{console.log("[Global Data] AudioContext resumed."),this.masterGain=this.audioContext.createGain(),this.masterGain.connect(this.audioContext.destination),this.isMasterGainInitialized=!0,this.isAudioContextInitialized=!0,this.removeInitEventListeners()})).catch((t=>{console.error("[Global Data] Error resuming AudioContext:",t)}))},addInitEventListeners:function(){this.boundInitializeAudio=this.initializeAudio.bind(this),["click","touchstart","keydown"].forEach((t=>{document.addEventListener(t,this.boundInitializeAudio,{once:!0})}))},removeInitEventListeners:function(){["click","touchstart","keydown"].forEach((t=>{document.removeEventListener(t,this.boundInitializeAudio)}))}},console.log("[Global Data] Initialized globalData.")),window.globalData.nextSong||(window.globalData.nextSong=function(){0!==this.songsArray.length&&(this.currentSongIndex=(this.currentSongIndex+1)%this.songsArray.length,console.log(`Switched to next song: Index ${this.currentSongIndex}`))},console.log("[Global Data] nextSong function defined.")),window.globalData.previousSong||(window.globalData.previousSong=function(){0!==this.songsArray.length&&(this.currentSongIndex=(this.currentSongIndex-1+this.songsArray.length)%this.songsArray.length,console.log(`Switched to previous song: Index ${this.currentSongIndex}`))},console.log("[Global Data] previousSong function defined.")),window.globalData.addInitEventListeners();
